<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8, maximum-scale=1.0, user-scalable=no">
    <title id="pageTitle">I AM MUGERA | Public Speaker, Life Coach & Author</title>
    <link rel="icon" type="image/x-icon" id="pageFavicon" href="https://i.postimg.cc/Kzsb3tX6/I-AM-MUGERA.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-analytics.js"></script>
    <style>
        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --black: #0a0a0a;
            --white: #ffffff;
            --gray: #f9f9f9;
            --dark-gray: #1a1a1a;
            --light-gray: #e8e8e8;
            --gold: #ca8a04;
            --gold-light: #fef3c7;
            --gold-dark: #a16207;
            --african-brown: #8B4513;
            --african-red: #B22222;
            --african-earth: #D2691E;
            --african-pattern-bg: #f5f0e6;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.08);
            --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0,0,0,0.1);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --radius-full: 9999px;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 80px;
            font-size: 15px;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--white);
            color: var(--black);
            line-height: 1.6;
            overflow-x: hidden;
        }

        .cinzel-font {
            font-family: 'Cinzel', serif;
            font-weight: 600;
        }

        h1 { font-size: 3rem; font-weight: 800; line-height: 1.1; margin-bottom: 1.5rem; }
        h2 { font-size: 2.25rem; font-weight: 700; line-height: 1.2; margin-bottom: 1.5rem; }
        h3 { font-size: 1.5rem; font-weight: 700; line-height: 1.3; margin-bottom: 1rem; }
        p { font-size: 1rem; line-height: 1.6; margin-bottom: 1.25rem; color: var(--dark-gray); }

        /* Loading Overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .loading-spinner {
            width: 70px;
            height: 70px;
            border: 3px solid rgba(202, 138, 4, 0.1);
            border-top: 3px solid var(--gold);
            border-radius: 50%;
            animation: spin 1.2s cubic-bezier(0.68, -0.55, 0.27, 1.55) infinite;
            margin-bottom: 2rem;
            box-shadow: 0 0 30px rgba(202, 138, 4, 0.3);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .quote-container {
            text-align: center;
            max-width: 800px;
            padding: 2rem;
        }

        .quote-icon {
            font-size: 3rem;
            color: var(--gold);
            margin-bottom: 1rem;
            opacity: 0.7;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }

        .quote-text {
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            line-height: 1.4;
            color: var(--white);
            margin-bottom: 1.5rem;
            min-height: 120px;
        }

        .typing-container {
            display: inline-block;
            text-align: left;
        }

        .cursor {
            display: inline-block;
            width: 3px;
            height: 2rem;
            background-color: var(--gold);
            margin-left: 4px;
            animation: blink 1s infinite;
            vertical-align: middle;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .quote-author {
            font-family: 'Inter', serif;
            font-size: 1.1rem;
            color: var(--gold-light);
            opacity: 0;
            animation: fadeInUp 1s ease forwards;
            animation-delay: 6s;
        }

        .quote-author span {
            display: block;
            font-size: 0.9rem;
            color: rgba(255,255,255,0.7);
            margin-top: 0.5rem;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page-content {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
        }

        .page-content.loaded {
            opacity: 1;
            transform: translateY(0);
        }

        /* Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background: rgba(255,255,255,0.98);
            backdrop-filter: blur(20px);
            transition: var(--transition);
            padding: 0;
            box-shadow: var(--shadow-sm);
            height: 80px;
            border-bottom: 3px solid transparent;
            background-image: 
                linear-gradient(white, white),
                repeating-linear-gradient(45deg, var(--gold) 0px, var(--gold) 5px, var(--gold-dark) 5px, var(--gold-dark) 10px);
            background-clip: padding-box, border-box;
            background-origin: border-box;
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 100%;
        }

        .brand-logo {
            height: 50px;
            width: auto;
            transition: var(--transition);
            border-radius: var(--radius-sm);
        }

        .brand-logo:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }

        .nav-container {
            display: flex;
            align-items: center;
        }

        .main-nav {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }

        .nav-link {
            text-decoration: none;
            color: var(--dark-gray);
            font-weight: 600;
            font-size: 0.9rem;
            padding: 0.5rem 0.75rem;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border-radius: var(--radius-md);
            position: relative;
        }

        .nav-link::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--gold), var(--gold-dark));
            transition: var(--transition);
        }

        .nav-link:hover::after,
        .nav-link.active::after {
            width: 70%;
        }

        .nav-link:hover,
        .nav-link.active {
            color: var(--gold);
            background: rgba(202,138,4,0.05);
        }

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            cursor: pointer;
        }

        .mobile-menu-toggle span {
            display: block;
            width: 20px;
            height: 2px;
            background: var(--black);
            position: relative;
            transition: var(--transition);
        }

        .mobile-menu-toggle span::before,
        .mobile-menu-toggle span::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 2px;
            background: var(--black);
            transition: var(--transition);
        }

        .mobile-menu-toggle span::before { top: -6px; }
        .mobile-menu-toggle span::after { bottom: -6px; }

        .mobile-menu {
            position: fixed;
            top: 0;
            right: -100%;
            width: 280px;
            height: 100vh;
            background: var(--white);
            z-index: 1000;
            transition: var(--transition);
            padding: 2rem;
            border-left: 3px solid transparent;
            background-image: 
                linear-gradient(white, white),
                repeating-linear-gradient(45deg, var(--gold) 0px, var(--gold) 5px, var(--gold-dark) 5px, var(--gold-dark) 10px);
            background-clip: padding-box, border-box;
            background-origin: border-box;
        }

        .mobile-menu.active { right: 0; }

        .mobile-nav {
            list-style: none;
            margin-top: 2rem;
        }

        .mobile-nav-item { margin-bottom: 1rem; }

        .mobile-nav-link {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 1rem;
            text-decoration: none;
            color: var(--dark-gray);
            font-weight: 600;
            border-radius: var(--radius-md);
            transition: var(--transition);
        }

        .mobile-nav-link:hover,
        .mobile-nav-link.active {
            background: rgba(202,138,4,0.1);
            color: var(--gold);
        }

        .mobile-menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(4px);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .mobile-menu-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        /* Buttons */
        .cta-button {
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            color: var(--white);
            border: none;
            border-radius: var(--radius-md);
            padding: 0.875rem 1.75rem;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
            text-decoration: none;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
            background: linear-gradient(135deg, var(--gold-dark), var(--african-brown));
        }

        .cta-button.outline {
            background: transparent;
            border: 2px solid var(--gold);
            color: var(--gold);
        }

        .cta-button.outline:hover {
            background: var(--gold);
            color: var(--white);
        }

        /* Hero Section */
        .hero {
            min-height: 90vh;
            display: flex;
            align-items: center;
            background: url('https://i.postimg.cc/4xrKwr1T/20260217-1152-Image-Generation-remix-01khncsdsgfek9mpxam7bb60yt.png');
            background-size: 400px 400px;
            background-position: center;
            background-repeat: repeat;
            background-attachment: fixed;
            color: var(--white);
            padding: 6rem 2rem 3rem;
            position: relative;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.8) 100%);
            z-index: 1;
        }

        .hero::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(45deg, transparent, transparent 20px, rgba(202,138,4,0.05) 20px, rgba(202,138,4,0.05) 40px);
            pointer-events: none;
            z-index: 2;
        }

        .hero-content {
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            position: relative;
            z-index: 3;
        }

        .hero-text-container {
            max-width: 800px;
        }

        .hero-tagline {
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: var(--gold);
            margin-bottom: 1rem;
            font-weight: 600;
            display: inline-block;
            padding: 0.5rem 1rem;
            background: rgba(0,0,0,0.3);
            border-radius: var(--radius-full);
            border: 1px solid rgba(202,138,4,0.3);
        }

        .hero h1 {
            color: var(--white);
            text-shadow: 0 4px 8px rgba(0,0,0,0.4);
        }

        .hero-subtitle {
            font-size: 1.125rem;
            color: rgba(255,255,255,0.9);
            margin-bottom: 2rem;
            max-width: 600px;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        /* Slideshow Section - FIXED RESPONSIVENESS */
        .slideshow-section {
            padding: 5rem 2rem;
            background: linear-gradient(135deg, var(--white) 0%, var(--african-pattern-bg) 100%);
            position: relative;
        }

        .slideshow-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(45deg, transparent, transparent 20px, rgba(202,138,4,0.02) 20px, rgba(202,138,4,0.02) 40px);
            pointer-events: none;
        }

        .slideshow-header {
            max-width: 1200px;
            margin: 0 auto 3rem;
            text-align: left;
        }

        .slideshow-header h2 {
            position: relative;
            display: inline-block;
            padding-bottom: 1rem;
            border-bottom: 3px solid var(--gold);
        }

        .slideshow-subtitle {
            font-size: 1.1rem;
            color: var(--dark-gray);
            margin-top: 1rem;
            max-width: 600px;
        }

        .slideshow-container {
            max-width: 1200px;
            margin: 0 auto;
            position: relative;
        }

        .slideshow {
            position: relative;
            min-height: 500px;
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            background: var(--white);
        }

        .slides {
            display: flex;
            width: 300%;
            height: 100%;
            transition: transform 0.8s cubic-bezier(0.4,0,0.2,1);
        }

        .slide {
            flex: 0 0 33.333%;
            height: auto;
            position: relative;
        }

        .slide-content {
            display: flex;
            width: 100%;
            min-height: 500px;
            height: auto;
        }

        .slide-image {
            flex: 0 0 50%;
            position: relative;
            overflow: hidden;
        }

        .slide-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
        }

        .slide-info {
            flex: 1;
            padding: 3rem;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            background: var(--white);
            height: auto;
        }

        .slide-tag {
            display: inline-block;
            padding: 0.4rem 1rem;
            background: rgba(202,138,4,0.1);
            color: var(--gold);
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            margin-bottom: 1rem;
            font-weight: 600;
            align-self: flex-start;
        }

        .slide-title {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--black);
            line-height: 1.3;
        }

        .slide-description {
            color: var(--dark-gray);
            margin-bottom: 1.5rem;
            line-height: 1.6;
            flex: 1;
        }

        .slide-meta {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--dark-gray);
            font-size: 0.9rem;
        }

        .meta-item i { color: var(--gold); }

        .slide-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.9);
            border: 2px solid rgba(202,138,4,0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            z-index: 10;
            color: var(--gold);
        }

        .slide-nav:hover {
            background: var(--gold);
            color: var(--white);
            border-color: var(--gold);
        }

        .slide-nav.prev { left: 1rem; }
        .slide-nav.next { right: 1rem; }

        .slide-indicator {
            position: absolute;
            bottom: 1rem;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.7);
            color: var(--white);
            padding: 0.5rem 1rem;
            border-radius: var(--radius-full);
            font-size: 0.85rem;
            z-index: 10;
        }

        /* Section Styles - All titles left-aligned */
        section {
            padding: 5rem 2rem;
            position: relative;
        }

        .section-header {
            max-width: 1200px;
            margin: 0 auto 3rem;
            text-align: left;
        }

        .section-header h2 {
            position: relative;
            display: inline-block;
            padding-bottom: 1rem;
            border-bottom: 3px solid var(--gold);
        }

        .section-subtitle {
            font-size: 1.1rem;
            color: var(--dark-gray);
            margin-top: 1rem;
            max-width: 600px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Talk Series - FIXED */
        .talk-series {
            background: linear-gradient(135deg, var(--african-pattern-bg) 0%, var(--white) 100%);
        }

        .talk-series-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: start;
        }

        .talk-image {
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            border: 3px solid transparent;
            background: linear-gradient(var(--white), var(--white)) padding-box,
                        repeating-linear-gradient(45deg, var(--gold) 0px, var(--gold) 8px, var(--gold-dark) 8px, var(--gold-dark) 16px) border-box;
        }

        .talk-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        .talk-info-grid {
            display: grid;
            grid-template-columns: repeat(2,1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .detail-card {
            background: rgba(202,138,4,0.05);
            padding: 1.5rem;
            border-radius: var(--radius-md);
            border: 1px solid rgba(202,138,4,0.15);
        }

        .detail-icon {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            margin-bottom: 1rem;
        }

        .detail-text h4 {
            font-size: 0.85rem;
            color: var(--dark-gray);
            text-transform: uppercase;
            margin-bottom: 0.25rem;
        }

        .detail-text p {
            margin: 0;
            font-weight: 600;
            color: var(--black);
        }

        /* Conference */
        .conference {
            background: linear-gradient(135deg, #111827 0%, #1e293b 100%);
            color: var(--white);
        }

        .conference h2,
        .conference .section-subtitle {
            color: var(--white);
        }

        .conference-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .conference-image {
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            border: 3px solid transparent;
            background: linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0.1)) padding-box,
                        repeating-linear-gradient(45deg, var(--gold) 0px, var(--gold) 8px, var(--gold-dark) 8px, var(--gold-dark) 16px) border-box;
        }

        .conference-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        .conference-info p {
            color: rgba(255,255,255,0.9);
        }

        .feature-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding: 1.5rem;
            background: rgba(255,255,255,0.05);
            border-radius: var(--radius-lg);
            border-left: 3px solid var(--gold);
        }

        .feature-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }

        .feature-content h4 {
            color: var(--white);
            margin-bottom: 0.5rem;
        }

        .feature-content p {
            margin: 0;
            font-size: 0.95rem;
            color: rgba(255,255,255,0.8);
        }

        /* Programs - FIXED */
        .programs {
            background: linear-gradient(135deg, var(--african-pattern-bg) 0%, var(--white) 100%);
        }

        .program-card {
            max-width: 800px;
            background: var(--white);
            border-radius: var(--radius-xl);
            padding: 3rem;
            box-shadow: var(--shadow-lg);
            border: 3px solid transparent;
            background: linear-gradient(var(--white), var(--white)) padding-box,
                        repeating-linear-gradient(45deg, var(--gold) 0px, var(--gold) 10px, var(--gold-dark) 10px, var(--gold-dark) 20px) border-box;
        }

        .program-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            font-size: 1.75rem;
            color: var(--white);
        }

        .program-tag {
            display: inline-block;
            padding: 0.4rem 1rem;
            background: rgba(202,138,4,0.1);
            color: var(--gold);
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .program-features {
            margin: 2rem 0;
        }

        .program-feature {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: rgba(202,138,4,0.05);
            border-radius: var(--radius-md);
            margin-bottom: 1rem;
        }

        .program-feature i {
            color: var(--gold);
            font-size: 1.1rem;
        }

        /* Author */
        .author-section {
            background: linear-gradient(135deg, #111827 0%, #1e293b 100%);
            color: var(--white);
        }

        .author-section h2,
        .author-section .section-subtitle {
            color: var(--white);
        }

        .author-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .author-image {
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            border: 3px solid transparent;
            background: linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0.1)) padding-box,
                        repeating-linear-gradient(45deg, var(--gold) 0px, var(--gold) 8px, var(--gold-dark) 8px, var(--gold-dark) 16px) border-box;
        }

        .author-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        .article-tag {
            display: inline-block;
            padding: 0.5rem 1.5rem;
            background: rgba(202,138,4,0.2);
            color: var(--gold);
            border-radius: var(--radius-full);
            font-size: 0.85rem;
            margin-bottom: 1.5rem;
            font-weight: 600;
            border: 1px solid rgba(202,138,4,0.3);
        }

        .article-title {
            font-size: 2rem;
            color: var(--white);
            margin-bottom: 1rem;
        }

        .article-description {
            color: rgba(255,255,255,0.9);
            margin-bottom: 2rem;
            line-height: 1.7;
        }

        /* Events */
        .events-section {
            background: linear-gradient(135deg, var(--african-pattern-bg) 0%, var(--white) 100%);
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .event-card {
            background: var(--white);
            border-radius: var(--radius-xl);
            padding: 2rem;
            box-shadow: var(--shadow-lg);
            border: 3px solid transparent;
            background: linear-gradient(var(--white), var(--white)) padding-box,
                        repeating-linear-gradient(45deg, var(--gold) 0px, var(--gold) 8px, var(--gold-dark) 8px, var(--gold-dark) 16px) border-box;
        }

        .event-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            border-radius: var(--radius-lg);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            color: var(--white);
        }

        .event-tag {
            display: inline-block;
            padding: 0.4rem 1rem;
            background: rgba(202,138,4,0.1);
            color: var(--gold);
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .event-schedule {
            color: var(--gold);
            font-weight: 600;
            margin: 1.5rem 0;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Communities - REMOVED BACKGROUND AND CLICK FUNCTIONALITY */
        .communities-section {
            background: linear-gradient(135deg, var(--white) 0%, var(--african-pattern-bg) 100%);
        }

        .communities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .community-card {
            background: transparent;
            padding: 2rem;
            text-align: center;
            transition: var(--transition);
            border: none;
            box-shadow: none;
            cursor: default;
        }

        .community-card:hover {
            transform: translateY(-5px);
        }

        .community-logo {
            width: 120px;
            height: 120px;
            border-radius: var(--radius-lg);
            object-fit: contain;
            margin-bottom: 1.5rem;
            padding: 10px;
            background: var(--white);
            box-shadow: var(--shadow-md);
            border: 1px solid rgba(202,138,4,0.2);
            transition: var(--transition);
        }

        .community-card:hover .community-logo {
            box-shadow: var(--shadow-lg);
            border-color: var(--gold);
        }

        .community-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--black);
            margin-bottom: 0.5rem;
        }

        .community-description {
            font-size: 0.9rem;
            color: var(--dark-gray);
            line-height: 1.5;
        }

        /* Featured Products */
        .featured-products-section {
            background: linear-gradient(135deg, var(--african-pattern-bg) 0%, var(--white) 100%);
        }

        .featured-products-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 3rem;
        }

        .featured-product-card {
            background: var(--white);
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            border: 3px solid transparent;
            background: linear-gradient(var(--white), var(--white)) padding-box,
                        repeating-linear-gradient(45deg, var(--gold) 0px, var(--gold) 8px, var(--gold-dark) 8px, var(--gold-dark) 16px) border-box;
        }

        .featured-product-image {
            height: 280px;
            overflow: hidden;
            position: relative;
        }

        .featured-product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .featured-product-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            color: var(--white);
            padding: 0.4rem 1.5rem;
            border-radius: var(--radius-full);
            font-size: 0.85rem;
            font-weight: 700;
        }

        .featured-product-content {
            padding: 2rem;
        }

        .featured-product-tag {
            display: inline-block;
            padding: 0.4rem 1rem;
            background: rgba(202,138,4,0.1);
            color: var(--gold);
            border-radius: var(--radius-full);
            font-size: 0.8rem;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .featured-product-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .featured-product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--light-gray);
        }

        .featured-product-price {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gold-dark);
        }

        .featured-product-price del {
            font-size: 1rem;
            color: var(--dark-gray);
            margin-right: 0.5rem;
        }

        .featured-products-cta {
            margin-top: 3rem;
            text-align: left;
        }

        /* About */
        .about {
            background: linear-gradient(135deg, var(--african-pattern-bg) 0%, var(--white) 100%);
        }

        .about-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .about-image {
            border-radius: var(--radius-xl);
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            border: 3px solid transparent;
            background: linear-gradient(var(--white), var(--white)) padding-box,
                        repeating-linear-gradient(45deg, var(--gold) 0px, var(--gold) 10px, var(--gold-dark) 10px, var(--gold-dark) 20px) border-box;
        }

        .about-image img {
            width: 100%;
            height: auto;
            display: block;
        }

        /* Contact - IMPROVED */
        .contact {
            background: linear-gradient(135deg, var(--african-pattern-bg) 0%, var(--white) 100%);
        }

        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .contact-card {
            background: transparent;
            padding: 1.5rem;
            border: none;
            box-shadow: none;
            text-align: center;
        }

        .contact-icon {
            width: auto;
            height: auto;
            background: transparent;
            border-radius: 0;
            display: block;
            margin-bottom: 1rem;
            font-size: 2rem;
            color: var(--gold);
            box-shadow: none;
        }

        .contact-card h3 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--black);
            margin-bottom: 0.5rem;
        }

        .contact-card p {
            color: var(--dark-gray);
            font-size: 0.95rem;
            margin: 0;
        }

        .whatsapp-button {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
            padding: 1rem 2.5rem;
            border-radius: var(--radius-full);
            text-decoration: none;
            font-weight: 600;
            margin-top: 3rem;
            transition: var(--transition);
            border: none;
        }

        .whatsapp-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(37,211,102,0.3);
        }

        /* Footer - UPDATED SOCIAL ICONS */
        footer {
            background: linear-gradient(135deg, #0a0a0a 0%, #111 100%);
            color: var(--white);
            padding: 5rem 2rem 2rem;
            position: relative;
            border-top: 3px solid transparent;
            background-image: linear-gradient(#0a0a0a, #0a0a0a),
                            repeating-linear-gradient(45deg, var(--gold) 0px, var(--gold) 5px, var(--gold-dark) 5px, var(--gold-dark) 10px);
            background-clip: padding-box, border-box;
            background-origin: border-box;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }

        .footer-logo {
            height: 50px;
            width: auto;
            margin-bottom: 1.5rem;
            filter: brightness(0) invert(1);
        }

        .footer-description {
            color: rgba(255,255,255,0.7);
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .social-link {
            display: inline-block;
            transition: var(--transition);
        }

        .social-link img {
            width: 32px;
            height: 32px;
            object-fit: contain;
            filter: brightness(0) invert(1);
            transition: var(--transition);
        }

        .social-link:hover img {
            transform: translateY(-3px);
            filter: brightness(0) invert(0.8) sepia(1) hue-rotate(50deg) saturate(5);
        }

        .footer-column h3 {
            color: var(--white);
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 2px solid var(--gold);
            display: inline-block;
        }

        .footer-column a {
            color: rgba(255,255,255,0.7);
            display: block;
            text-decoration: none;
            margin-bottom: 0.75rem;
            transition: var(--transition);
        }

        .footer-column a:hover {
            color: var(--gold);
            transform: translateX(5px);
        }

        .contact-info-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: rgba(255,255,255,0.7);
            margin-bottom: 0.75rem;
        }

        .contact-info-item i {
            color: var(--gold);
            width: 20px;
        }

        .copyright {
            text-align: center;
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: rgba(255,255,255,0.5);
        }

        /* Modals */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            backdrop-filter: blur(15px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: var(--transition);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .registration-modal {
            background: linear-gradient(135deg, var(--white) 0%, var(--african-pattern-bg) 100%);
            border-radius: var(--radius-xl);
            padding: 3rem;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: var(--shadow-2xl);
            border: 3px solid transparent;
            background: linear-gradient(var(--white), var(--african-pattern-bg)) padding-box,
                        repeating-linear-gradient(45deg, var(--gold) 0px, var(--gold) 8px, var(--gold-dark) 8px, var(--gold-dark) 16px) border-box;
        }

        .modal-close {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: rgba(202,138,4,0.1);
            border: 2px solid rgba(202,138,4,0.3);
            font-size: 1.25rem;
            color: var(--gold);
            cursor: pointer;
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .modal-close:hover {
            background: var(--gold);
            color: var(--white);
            transform: rotate(90deg);
        }

        .modal-title {
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
            color: var(--black);
        }

        .modal-subtitle {
            color: var(--dark-gray);
            margin-bottom: 2rem;
        }

        .registration-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .form-label {
            font-weight: 600;
            color: var(--black);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-label i { color: var(--gold); }

        .form-input,
        .form-select,
        .form-textarea {
            padding: 0.875rem 1.25rem;
            border: 2px solid rgba(202,138,4,0.2);
            border-radius: var(--radius-md);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            transition: var(--transition);
            background: var(--white);
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--gold);
            box-shadow: 0 0 0 3px rgba(202,138,4,0.15);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-submit {
            background: linear-gradient(135deg, var(--gold), var(--gold-dark));
            color: var(--white);
            border: none;
            border-radius: var(--radius-md);
            padding: 1rem 2rem;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            transition: var(--transition);
            margin-top: 0.5rem;
        }

        .form-submit:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(202,138,4,0.3);
        }

        .form-submit:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .form-success {
            text-align: center;
            padding: 3rem 2rem;
            display: none;
        }

        .form-success i {
            font-size: 4rem;
            color: var(--gold);
            margin-bottom: 1.5rem;
        }

        .form-success h3 {
            color: var(--gold);
            margin-bottom: 1rem;
        }

        .form-error {
            color: #dc2626;
            font-size: 0.85rem;
            margin-top: 0.25rem;
            display: none;
        }

        .form-error.show { display: block; }

        .waitlist-description {
            text-align: left;
            color: var(--dark-gray);
            margin-bottom: 2rem;
            padding: 1rem;
            background: rgba(202,138,4,0.05);
            border-radius: var(--radius-md);
        }

        .product-modal .registration-modal {
            max-width: 600px;
        }

        .product-modal-image {
            width: 100%;
            height: 250px;
            border-radius: var(--radius-lg);
            overflow: hidden;
            margin-bottom: 1.5rem;
        }

        .product-modal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Responsive */
        @media (max-width: 992px) {
            .mobile-menu-toggle {
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .nav-container { display: none; }

            .talk-series-grid,
            .conference-grid,
            .author-grid,
            .about-grid,
            .featured-products-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .hero h1 { font-size: 2.5rem; }
            h2 { font-size: 2rem; }

            .slideshow { min-height: auto; }
            .slide-content { 
                flex-direction: column; 
                min-height: auto;
            }
            .slide-image { 
                height: 250px; 
                position: relative;
            }
            .slide-info { height: auto; }
        }

        @media (max-width: 768px) {
            html { font-size: 14px; }
            section { padding: 3rem 1.5rem; }

            .hero-buttons { flex-direction: column; }
            .cta-button { width: 100%; justify-content: center; }

            .talk-info-grid,
            .form-row {
                grid-template-columns: 1fr;
            }

            .event-card,
            .contact-card { padding: 1.5rem; }

            .footer-container { grid-template-columns: 1fr; }

            .modal-title { font-size: 1.5rem; }
            .registration-modal { padding: 2rem; }

            .slide-meta { flex-direction: column; gap: 0.5rem; }
        }

        @media (max-width: 480px) {
            .hero h1 { font-size: 2rem; }
            .hero-tagline { font-size: 0.75rem; }

            .slide-title { font-size: 1.3rem; }
            .slide-info { padding: 1.5rem; }

            .featured-product-image { height: 200px; }
            .featured-product-content { padding: 1.5rem; }
            .featured-product-title { font-size: 1.2rem; }
            .featured-products-grid { grid-template-columns: 1fr; }

            .community-logo { width: 100px; height: 100px; }

            .contact-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="quote-container">
            <div class="quote-icon">
                <i class="fas fa-quote-left"></i>
            </div>
            <div class="quote-text" id="quoteText"></div>
            <div class="quote-author" id="quoteAuthor">
                - Mugera W.
                <span>Public Speaker, Life Coach & Author</span>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header id="mainHeader"></header>

    <!-- Mobile Menu Overlay -->
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu"></div>

    <!-- Main Content -->
    <main id="mainContent" class="page-content"></main>

    <!-- Footer -->
    <footer id="mainFooter"></footer>

    <!-- Registration Modal -->
    <div class="modal-overlay" id="registrationModal">
        <div class="registration-modal">
            <button class="modal-close" onclick="closeRegistrationModal()">&times;</button>
            <h2 class="modal-title" id="modalTitle">Register Now</h2>
            <p class="modal-subtitle" id="modalSubtitle">Fill out the form below to register</p>
            
            <div class="registration-form" id="registrationForm">
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-user"></i> Full Name *</label>
                    <input type="text" class="form-input" id="fullName" placeholder="Enter your full name">
                    <div class="form-error" id="nameError">Please enter your full name</div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-envelope"></i> Email *</label>
                        <input type="email" class="form-input" id="email" placeholder="your.email@example.com">
                        <div class="form-error" id="emailError">Please enter a valid email address</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-phone"></i> Phone *</label>
                        <input type="tel" class="form-input" id="phone" placeholder="+254 XXX XXX XXX">
                        <div class="form-error" id="phoneError">Please enter a valid phone number</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-briefcase"></i> Profession/Occupation</label>
                    <input type="text" class="form-input" id="profession" placeholder="What do you do?">
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-map-marker-alt"></i> Location</label>
                    <input type="text" class="form-input" id="location" placeholder="City, Country">
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-calendar"></i> Event Type *</label>
                    <select class="form-select" id="eventType">
                        <option value="">Select an event</option>
                        <option value="Become What You Believe Talk Series">Become What You Believe Talk Series</option>
                        <option value="The Making of An Icon Conference">The Making of An Icon Conference</option>
                        <option value="Inspired.Me Program">Inspired.Me Program</option>
                        <option value="Speaking Engagement">Speaking Engagement</option>
                        <option value="Coaching Session">One-on-One Coaching Session</option>
                        <option value="General Inquiry">General Inquiry</option>
                    </select>
                    <div class="form-error" id="eventTypeError">Please select an event type</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-comment"></i> Message/Inquiry</label>
                    <textarea class="form-textarea" id="message" rows="3" placeholder="Tell us more about your interest..."></textarea>
                </div>
                
                <button type="button" class="form-submit" onclick="submitRegistration()" id="submitBtn">
                    <i class="fas fa-paper-plane"></i>
                    <span>Submit Registration</span>
                </button>
            </div>
            
            <div class="form-success" id="formSuccess">
                <i class="fas fa-check-circle"></i>
                <h3>Registration Successful!</h3>
                <p>Thank you for registering. We'll contact you shortly with more details.</p>
                <button class="cta-button" onclick="closeRegistrationModal()" style="margin-top: 1.5rem; width: 100%;">
                    <i class="fas fa-check"></i> <span>Close</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Waitlist Modal -->
    <div class="modal-overlay waitlist-modal" id="waitlistModal">
        <div class="registration-modal">
            <button class="modal-close" onclick="closeWaitlistModal()">&times;</button>
            <h2 class="modal-title">Join the Publication Waitlist</h2>
            <p class="modal-subtitle">Be the first to receive this groundbreaking publication</p>
            
            <div class="waitlist-description">
                <p><i class="fas fa-info-circle" style="color: var(--gold);"></i> Join our exclusive waitlist for early access and special benefits when this publication releases.</p>
            </div>
            
            <div class="registration-form" id="waitlistForm">
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-user"></i> Full Name *</label>
                    <input type="text" class="form-input" id="waitlistName" placeholder="Enter your full name">
                    <div class="form-error" id="waitlistNameError">Please enter your full name</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-envelope"></i> Email Address *</label>
                    <input type="email" class="form-input" id="waitlistEmail" placeholder="your.email@example.com">
                    <div class="form-error" id="waitlistEmailError">Please enter a valid email address</div>
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-briefcase"></i> Profession/Interest Area</label>
                    <input type="text" class="form-input" id="waitlistProfession" placeholder="Entrepreneur, Student, Creative, etc.">
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-comment"></i> What interests you most?</label>
                    <select class="form-select" id="waitlistInterest">
                        <option value="">Select your primary interest</option>
                        <option value="spiritual">Spiritual dimensions</option>
                        <option value="scientific">Scientific aspects</option>
                        <option value="philosophical">Philosophical exploration</option>
                        <option value="personal-growth">Personal growth</option>
                    </select>
                </div>
                
                <button type="button" class="form-submit" onclick="submitWaitlist()" id="waitlistSubmitBtn">
                    <i class="fas fa-bell"></i>
                    <span>Join Waitlist</span>
                </button>
            </div>
            
            <div class="form-success" id="waitlistSuccess">
                <i class="fas fa-check-circle"></i>
                <h3>You're on the Waitlist!</h3>
                <p>Thank you for joining. We'll notify you as soon as the publication is available.</p>
                <button class="cta-button" onclick="closeWaitlistModal()" style="margin-top: 1.5rem; width: 100%;">
                    <i class="fas fa-check"></i> <span>Close</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Product Modal -->
    <div class="modal-overlay product-modal" id="productModal">
        <div class="registration-modal">
            <button class="modal-close" onclick="closeProductModal()">&times;</button>
            <h2 class="modal-title" id="productModalTitle">Order Product</h2>
            <p class="modal-subtitle" id="productModalSubtitle">Complete your purchase details</p>
            
            <div class="product-modal-image" id="productModalImage"></div>
            
            <div class="registration-form" id="productOrderForm">
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-user"></i> Full Name *</label>
                    <input type="text" class="form-input" id="productFullName" placeholder="Enter your full name">
                    <div class="form-error" id="productNameError">Please enter your full name</div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-envelope"></i> Email *</label>
                        <input type="email" class="form-input" id="productEmail" placeholder="your.email@example.com">
                        <div class="form-error" id="productEmailError">Please enter a valid email address</div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-phone"></i> Phone *</label>
                        <input type="tel" class="form-input" id="productPhone" placeholder="+254 XXX XXX XXX">
                        <div class="form-error" id="productPhoneError">Please enter a valid phone number</div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-map-marker-alt"></i> Delivery Address *</label>
                    <input type="text" class="form-input" id="productAddress" placeholder="Your complete delivery address">
                    <div class="form-error" id="productAddressError">Please enter your delivery address</div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-box"></i> Product</label>
                        <input type="text" class="form-input" id="productName" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label"><i class="fas fa-tag"></i> Price</label>
                        <input type="text" class="form-input" id="productPrice" readonly>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label"><i class="fas fa-credit-card"></i> Payment Method *</label>
                    <select class="form-select" id="paymentMethod">
                        <option value="">Select payment method</option>
                        <option value="M-Pesa">M-Pesa (Kenya)</option>
                        <option value="Bank Transfer">Bank Transfer</option>
                        <option value="Cash on Delivery">Cash on Delivery (Nairobi only)</option>
                    </select>
                    <div class="form-error" id="paymentMethodError">Please select a payment method</div>
                </div>
                
                <button type="button" class="form-submit" onclick="submitProductOrder()" id="productSubmitBtn">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Place Order</span>
                </button>
            </div>
            
            <div class="form-success" id="productSuccess">
                <i class="fas fa-check-circle"></i>
                <h3>Order Received!</h3>
                <p>Thank you for your order. We'll contact you shortly to confirm details.</p>
                <button class="cta-button" onclick="closeProductModal()" style="margin-top: 1.5rem; width: 100%;">
                    <i class="fas fa-check"></i> <span>Close</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyC7kppUyHUaPzeLBV62NEZWuHiuz1Kz0mA",
            authDomain: "mugera-e51cc.firebaseapp.com",
            databaseURL: "https://mugera-e51cc-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "mugera-e51cc",
            storageBucket: "mugera-e51cc.firebasestorage.app",
            messagingSenderId: "1024868637509",
            appId: "1:1024868637509:web:321faecddce8f11d9cfc2c"
        };

        // Initialize Firebase
        let database, analytics, brandData = {};
        
        try {
            firebase.initializeApp(firebaseConfig);
            database = firebase.database();
            analytics = firebase.analytics();
            console.log("Firebase initialized");
        } catch (error) {
            console.error("Firebase error:", error);
        }

        // Typing Animation
        document.addEventListener('DOMContentLoaded', function() {
            startTypingAnimation();
        });

        function startTypingAnimation() {
            const quote = "Humans are very special and blessed beings, they just need to be reminded time and again.";
            const quoteText = document.getElementById('quoteText');
            
            const typingContainer = document.createElement('div');
            typingContainer.className = 'typing-container';
            quoteText.innerHTML = '';
            quoteText.appendChild(typingContainer);
            
            let charIndex = 0;
            
            function typeCharacter() {
                if (charIndex < quote.length) {
                    const span = document.createElement('span');
                    span.textContent = quote.substring(0, charIndex + 1);
                    typingContainer.innerHTML = '';
                    typingContainer.appendChild(span);
                    
                    const cursor = document.createElement('span');
                    cursor.className = 'cursor';
                    typingContainer.appendChild(cursor);
                    
                    charIndex++;
                    setTimeout(typeCharacter, 50);
                } else {
                    setTimeout(loadAllContent, 1000);
                }
            }
            
            typeCharacter();
        }

        // Load All Content
        async function loadAllContent() {
            try {
                const snapshot = await database.ref('iam-mugera').once('value');
                brandData = snapshot.val() || {};
                
                // Update page metadata
                if (brandData.settings) {
                    document.title = brandData.settings.siteTitle || 'I AM MUGERA';
                    if (brandData.settings.favicon) {
                        document.getElementById('pageFavicon').href = brandData.settings.favicon;
                    }
                }
                
                // Load all sections
                await Promise.all([
                    loadHeader(),
                    loadHero(),
                    loadSlideshow(),
                    loadTalkSeries(),
                    loadConference(),
                    loadPrograms(),
                    loadAuthor(),
                    loadEvents(),
                    loadCommunities(),
                    loadAbout(),
                    loadFeaturedProducts(),
                    loadContact(),
                    loadFooter()
                ]);
                
                initMobileMenu();
                initSmoothScrolling();
                
                // Hide loading overlay
                setTimeout(() => {
                    document.getElementById('loadingOverlay').style.opacity = '0';
                    document.getElementById('loadingOverlay').style.visibility = 'hidden';
                    document.querySelector('.page-content').classList.add('loaded');
                }, 500);
                
            } catch (error) {
                console.error('Error loading content:', error);
                document.getElementById('loadingOverlay').style.display = 'none';
            }
        }

        // Header
        function loadHeader() {
            const header = document.getElementById('mainHeader');
            const navItems = brandData.header?.navItems || {};
            
            const logoUrl = brandData.header?.logo?.desktop || 'https://i.postimg.cc/8cr13sL7/MUGERA-1-removebg-preview.png';
            
            header.innerHTML = `
                <div class="header-container">
                    <div class="brand-container">
                        <a href="#home">
                            <img src="${logoUrl}" alt="I AM MUGERA" class="brand-logo">
                        </a>
                    </div>

                    <div class="nav-container">
                        <nav>
                            <ul class="main-nav">
                                ${generateNavItems(navItems)}
                            </ul>
                        </nav>
                    </div>

                    <button class="mobile-menu-toggle" id="mobileMenuToggle">
                        <span></span>
                    </button>
                </div>
            `;
            
            // Mobile menu
            const mobileMenu = document.getElementById('mobileMenu');
            mobileMenu.innerHTML = `
                <ul class="mobile-nav">
                    ${generateNavItems(navItems, true)}
                </ul>
            `;
        }

        function generateNavItems(items, isMobile = false) {
            const itemsArray = Object.values(items)
                .filter(item => item.visible !== false)
                .sort((a, b) => (a.order || 0) - (b.order || 0));
            
            return itemsArray.map(item => `
                <li class="${isMobile ? 'mobile-nav-item' : 'nav-item'}">
                    <a href="#${item.url || item.title.toLowerCase().replace(/\s+/g, '-')}" 
                       class="${isMobile ? 'mobile-nav-link' : 'nav-link'}">
                        <i class="${item.icon || 'fas fa-circle'}"></i>
                        <span>${item.title}</span>
                    </a>
                </li>
            `).join('');
        }

        // Hero
        function loadHero() {
            const main = document.getElementById('mainContent');
            const hero = brandData.hero || {};
            
            const heroSection = document.createElement('section');
            heroSection.className = 'hero';
            heroSection.id = 'home';
            
            heroSection.innerHTML = `
                <div class="hero-content">
                    <div class="hero-text-container">
                        ${hero.tagline ? `<div class="hero-tagline">${hero.tagline}</div>` : ''}
                        <h1 class="cinzel-font">${hero.mainTitle || 'I AM MUGERA'}</h1>
                        ${hero.subtitle ? `<div class="hero-subtitle">${hero.subtitle}</div>` : ''}
                        
                        <div class="hero-buttons">
                            <button class="cta-button" onclick="openRegistrationModal('Speaking Engagement')">
                                <i class="fas fa-microphone"></i>
                                <span>Book Speaking Engagement</span>
                            </button>
                            <button class="cta-button outline" onclick="openRegistrationModal('Coaching Session')">
                                <i class="fas fa-handshake"></i>
                                <span>Schedule Coaching</span>
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            main.appendChild(heroSection);
        }

        // Slideshow - FIXED RESPONSIVENESS
        function loadSlideshow() {
            const main = document.getElementById('mainContent');
            
            const slideshowSection = document.createElement('section');
            slideshowSection.className = 'slideshow-section';
            slideshowSection.id = 'latest';
            
            slideshowSection.innerHTML = `
                <div class="slideshow-header">
                    <h2 class="cinzel-font">Latest Highlights</h2>
                    <p class="slideshow-subtitle">Discover our newest offerings and upcoming events</p>
                </div>
                
                <div class="slideshow-container">
                    <div class="slideshow">
                        <div class="slides" id="slides">
                            ${generateSlides()}
                        </div>
                        
                        <button class="slide-nav prev" onclick="prevSlide()">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <button class="slide-nav next" onclick="nextSlide()">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                        
                        <div class="slide-indicator" id="slideIndicator">1 / 3</div>
                    </div>
                </div>
            `;
            
            main.appendChild(slideshowSection);
            initSlideshow();
        }

        function generateSlides() {
            const products = Object.values(brandData.store?.products || {}).filter(p => p.visible !== false);
            const latestProduct = products.find(p => p.badge?.toLowerCase().includes('new')) || products[0] || {
                name: 'Signature Collection',
                description: 'Premium collection designed for personal and professional excellence. Features curated items for your journey.',
                image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                price: '$99',
                category: 'Lifestyle',
                badge: 'New'
            };
            
            return `
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-image">
                            <img src="${latestProduct.image}" alt="${latestProduct.name}" loading="lazy">
                        </div>
                        <div class="slide-info">
                            <div class="slide-tag">New Product</div>
                            <h3 class="slide-title">${latestProduct.name}</h3>
                            <p class="slide-description">${latestProduct.description || 'Discover our latest product designed for your growth journey.'}</p>
                            <div class="slide-meta">
                                <div class="meta-item"><i class="fas fa-tag"></i> ${latestProduct.price}</div>
                                <div class="meta-item"><i class="fas fa-clock"></i> Available Now</div>
                            </div>
                            <button class="cta-button" onclick="openProductModal('${latestProduct.name}', '${latestProduct.price}', '${latestProduct.image}')">
                                <i class="fas fa-shopping-cart"></i> Order Now
                            </button>
                        </div>
                    </div>
                </div>
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-image">
                            <img src="https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Publication" loading="lazy">
                        </div>
                        <div class="slide-info">
                            <div class="slide-tag">New Publication</div>
                            <h3 class="slide-title">The Science of Belief</h3>
                            <p class="slide-description">Exploring the intersection of neuroscience, psychology, and spirituality in personal transformation. Groundbreaking research and insights.</p>
                            <div class="slide-meta">
                                <div class="meta-item"><i class="fas fa-book"></i> Research Paper</div>
                                <div class="meta-item"><i class="fas fa-calendar"></i> Coming Soon</div>
                            </div>
                            <button class="cta-button" onclick="openWaitlistModal()">
                                <i class="fas fa-bell"></i> Join Waitlist
                            </button>
                        </div>
                    </div>
                </div>
                <div class="slide">
                    <div class="slide-content">
                        <div class="slide-image">
                            <img src="https://images.unsplash.com/photo-1540575467063-178a50c2df87?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" alt="Event" loading="lazy">
                        </div>
                        <div class="slide-info">
                            <div class="slide-tag">Upcoming Event</div>
                            <h3 class="slide-title">Annual Leadership Summit</h3>
                            <p class="slide-description">Join industry leaders for transformative insights, networking opportunities, and breakthrough strategies for personal and professional growth.</p>
                            <div class="slide-meta">
                                <div class="meta-item"><i class="fas fa-calendar-alt"></i> March 15-17, 2024</div>
                                <div class="meta-item"><i class="fas fa-map-marker-alt"></i> Nairobi & Virtual</div>
                            </div>
                            <button class="cta-button" onclick="openRegistrationModal('Conference')">
                                <i class="fas fa-ticket-alt"></i> Register Interest
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function initSlideshow() {
            let currentSlide = 0;
            const slides = document.querySelectorAll('.slide');
            const slidesContainer = document.querySelector('.slides');
            const indicator = document.getElementById('slideIndicator');
            
            function updateSlideshow() {
                if (slidesContainer && slides.length > 0) {
                    slidesContainer.style.transform = `translateX(-${currentSlide * (100 / slides.length)}%)`;
                }
                if (indicator) {
                    indicator.textContent = `${currentSlide + 1} / ${slides.length}`;
                }
            }
            
            window.prevSlide = () => {
                const slides = document.querySelectorAll('.slide');
                currentSlide = (currentSlide - 1 + slides.length) % slides.length;
                updateSlideshow();
            };
            
            window.nextSlide = () => {
                const slides = document.querySelectorAll('.slide');
                currentSlide = (currentSlide + 1) % slides.length;
                updateSlideshow();
            };
            
            // Auto-rotate every 5 seconds
            setInterval(() => {
                const slides = document.querySelectorAll('.slide');
                if (slides.length > 0) {
                    currentSlide = (currentSlide + 1) % slides.length;
                    updateSlideshow();
                }
            }, 5000);
            
            // Initial update
            setTimeout(updateSlideshow, 100);
        }

        // Talk Series - FIXED
        function loadTalkSeries() {
            const main = document.getElementById('mainContent');
            const talk = brandData.talkSeries || {};
            
            const talkSection = document.createElement('section');
            talkSection.className = 'talk-series';
            talkSection.id = 'talk-series';
            
            const details = talk.details || {};
            const detailsArray = Object.values(details).filter(d => d && typeof d === 'object');
            
            talkSection.innerHTML = `
                <div class="section-header">
                    <h2 class="cinzel-font">${talk.title || 'Current Talk Series'}</h2>
                    ${talk.subtitle ? `<p class="section-subtitle">${talk.subtitle}</p>` : ''}
                </div>
                
                <div class="container">
                    <div class="talk-series-grid">
                        <div class="talk-image">
                            <img src="${talk.image || 'https://images.unsplash.com/photo-1475721027783-f74eccf877e2?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80'}" 
                                 alt="${talk.name || 'Talk Series'}" loading="lazy">
                        </div>
                        
                        <div>
                            <h3 class="cinzel-font">${talk.name || 'Become What You Believe'}</h3>
                            <p>${talk.description || 'Weekly transformative sessions exploring the power of belief in shaping reality. Join us for deep discussions and practical applications.'}</p>
                            
                            <div class="talk-info-grid">
                                ${detailsArray.length > 0 ? detailsArray.map(detail => `
                                    <div class="detail-card">
                                        <div class="detail-icon"><i class="fas fa-${detail.icon || 'info-circle'}"></i></div>
                                        <div class="detail-text">
                                            <h4>${detail.label || 'Detail'}</h4>
                                            <p>${detail.value || 'Information'}</p>
                                        </div>
                                    </div>
                                `).join('') : `
                                    <div class="detail-card">
                                        <div class="detail-icon"><i class="fas fa-clock"></i></div>
                                        <div class="detail-text">
                                            <h4>Schedule</h4>
                                            <p>Every Thursday, 6 PM EAT</p>
                                        </div>
                                    </div>
                                    <div class="detail-card">
                                        <div class="detail-icon"><i class="fas fa-video"></i></div>
                                        <div class="detail-text">
                                            <h4>Format</h4>
                                            <p>Virtual & Physical</p>
                                        </div>
                                    </div>
                                `}
                            </div>
                            
                            ${talk.longDescription ? `<p>${talk.longDescription}</p>` : ''}
                            
                            <button class="cta-button" onclick="openRegistrationModal('Talk Series')">
                                <i class="fas fa-user-plus"></i> Register for Next Session
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            main.appendChild(talkSection);
        }

        // Conference
        function loadConference() {
            const main = document.getElementById('mainContent');
            const conference = brandData.conference || {};
            
            const conferenceSection = document.createElement('section');
            conferenceSection.className = 'conference';
            conferenceSection.id = 'conference';
            
            const features = conference.features || {};
            const featuresArray = Object.values(features).filter(f => f && typeof f === 'object');
            
            conferenceSection.innerHTML = `
                <div class="section-header">
                    <h2 class="cinzel-font">${conference.title || 'Annual Conference'}</h2>
                    ${conference.subtitle ? `<p class="section-subtitle">${conference.subtitle}</p>` : ''}
                </div>
                
                <div class="container">
                    <div class="conference-grid">
                        <div class="conference-image">
                            <img src="${conference.image || 'https://images.unsplash.com/photo-1528605248644-14dd04022da1?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80'}" 
                                 alt="${conference.name || 'Conference'}" loading="lazy">
                        </div>
                        
                        <div class="conference-info">
                            <h3 class="cinzel-font">${conference.name || 'The Making of An Icon'}</h3>
                            <p>${conference.description || 'A transformative conference exploring the journey to iconic leadership and impact. Featuring keynote speakers, workshops, and networking opportunities.'}</p>
                            
                            ${featuresArray.length > 0 ? featuresArray.map(feature => `
                                <div class="feature-item">
                                    <div class="feature-icon"><i class="fas fa-${feature.icon || 'star'}"></i></div>
                                    <div class="feature-content">
                                        <h4>${feature.title || 'Feature'}</h4>
                                        <p>${feature.description || 'Description'}</p>
                                    </div>
                                </div>
                            `).join('') : `
                                <div class="feature-item">
                                    <div class="feature-icon"><i class="fas fa-crown"></i></div>
                                    <div class="feature-content">
                                        <h4>Executive Track</h4>
                                        <p>Exclusive sessions for senior leaders</p>
                                    </div>
                                </div>
                                <div class="feature-item">
                                    <div class="feature-icon"><i class="fas fa-users"></i></div>
                                    <div class="feature-content">
                                        <h4>Networking</h4>
                                        <p>Connect with industry pioneers</p>
                                    </div>
                                </div>
                            `}
                            
                            <button class="cta-button" onclick="openRegistrationModal('Conference')">
                                <i class="fas fa-ticket-alt"></i> Register Interest
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            main.appendChild(conferenceSection);
        }

        // Programs - FIXED
        function loadPrograms() {
            const main = document.getElementById('mainContent');
            const programs = brandData.programs || {};
            const program = programs.program || {};
            
            const programsSection = document.createElement('section');
            programsSection.className = 'programs';
            programsSection.id = 'programs';
            
            const features = program.features || {};
            const featuresArray = Object.values(features).filter(f => f && typeof f === 'string');
            
            programsSection.innerHTML = `
                <div class="section-header">
                    <h2 class="cinzel-font">${programs.title || 'Executive Programs'}</h2>
                    ${programs.subtitle ? `<p class="section-subtitle">${programs.subtitle}</p>` : ''}
                </div>
                
                <div class="container">
                    <div class="program-card">
                        <div class="program-icon"><i class="fas fa-user-tie"></i></div>
                        <div class="program-tag">${program.tag || 'Executive Coaching'}</div>
                        <h3 class="cinzel-font">${program.name || 'Inspired.Me Program'}</h3>
                        <p>${program.description || 'A comprehensive 12-week program for personal and professional transformation through proven methodologies and personalized guidance.'}</p>
                        
                        <div class="program-features">
                            ${featuresArray.length > 0 ? featuresArray.map(feature => `
                                <div class="program-feature"><i class="fas fa-check-circle"></i> ${feature}</div>
                            `).join('') : `
                                <div class="program-feature"><i class="fas fa-check-circle"></i> Weekly 1-on-1 Coaching</div>
                                <div class="program-feature"><i class="fas fa-check-circle"></i> Actionable Frameworks</div>
                                <div class="program-feature"><i class="fas fa-check-circle"></i> Accountability System</div>
                                <div class="program-feature"><i class="fas fa-check-circle"></i> Community Support</div>
                            `}
                        </div>
                        
                        <button class="cta-button" onclick="openRegistrationModal('Coaching')">
                            <i class="fas fa-calendar-check"></i> Schedule Discovery Call
                        </button>
                    </div>
                </div>
            `;
            
            main.appendChild(programsSection);
        }

        // Author
        function loadAuthor() {
            const main = document.getElementById('mainContent');
            const author = brandData.author || {};
            const article = author.featuredArticle || {};
            
            const authorSection = document.createElement('section');
            authorSection.className = 'author-section';
            authorSection.id = 'author';
            
            authorSection.innerHTML = `
                <div class="section-header">
                    <h2 class="cinzel-font">${author.title || 'Author Spotlight'}</h2>
                    ${author.subtitle ? `<p class="section-subtitle">${author.subtitle}</p>` : ''}
                </div>
                
                <div class="container">
                    <div class="author-grid">
                        <div class="author-image">
                            <img src="${article.image || 'https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80'}" 
                                 alt="${article.title || 'Featured Article'}" loading="lazy">
                        </div>
                        
                        <div>
                            <div class="article-tag">${article.tag || 'Featured Publication'}</div>
                            <h2 class="article-title cinzel-font">${article.title || 'The Science of Belief'}</h2>
                            <p class="article-description">${article.description || 'Exploring the intersection of neuroscience, psychology, and spirituality in personal transformation. A groundbreaking work that bridges ancient wisdom with modern science.'}</p>
                            ${article.longDescription ? `<p class="article-description">${article.longDescription}</p>` : ''}
                            
                            <button class="cta-button" onclick="openWaitlistModal()">
                                <i class="fas fa-bell"></i> Join Publication Waitlist
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            main.appendChild(authorSection);
        }

        // Events
        function loadEvents() {
            const main = document.getElementById('mainContent');
            const events = brandData.events || {};
            
            const eventsSection = document.createElement('section');
            eventsSection.className = 'events-section';
            eventsSection.id = 'events';
            
            eventsSection.innerHTML = `
                <div class="section-header">
                    <h2 class="cinzel-font">${events.title || 'Featured Events'}</h2>
                    ${events.subtitle ? `<p class="section-subtitle">${events.subtitle}</p>` : ''}
                </div>
                
                <div class="container">
                    <div class="events-grid">
                        ${generateEvents(events.items)}
                    </div>
                </div>
            `;
            
            main.appendChild(eventsSection);
        }

        function generateEvents(items) {
            if (!items) {
                return `
                    <div class="event-card">
                        <div class="event-icon"><i class="fas fa-microphone-alt"></i></div>
                        <div class="event-tag">Speaking</div>
                        <h3>Executive Summit 2024</h3>
                        <p>Keynote speaking engagement at the annual leadership summit for East Africa's top executives.</p>
                        <div class="event-schedule"><i class="fas fa-calendar"></i> May 15, 2024</div>
                        <button class="cta-button" onclick="openRegistrationModal('Speaking')">
                            <i class="fas fa-ticket-alt"></i> Register Interest
                        </button>
                    </div>
                    <div class="event-card">
                        <div class="event-icon"><i class="fas fa-chalkboard-teacher"></i></div>
                        <div class="event-tag">Workshop</div>
                        <h3>Belief to Reality Workshop</h3>
                        <p>Hands-on workshop on transforming limiting beliefs into empowering ones for tangible results.</p>
                        <div class="event-schedule"><i class="fas fa-calendar"></i> June 10, 2024</div>
                        <button class="cta-button" onclick="openRegistrationModal('Workshop')">
                            <i class="fas fa-user-plus"></i> Register
                        </button>
                    </div>
                `;
            }
            
            return Object.values(items)
                .filter(event => event.visible !== false)
                .map(event => `
                    <div class="event-card">
                        <div class="event-icon"><i class="${event.icon || 'fas fa-calendar'}"></i></div>
                        <div class="event-tag">${event.tag || 'Event'}</div>
                        <h3>${event.name || 'Event Name'}</h3>
                        <p>${event.description || 'Event description'}</p>
                        <div class="event-schedule"><i class="fas fa-calendar"></i> ${event.schedule || 'Date TBD'}</div>
                        <button class="cta-button" onclick="openRegistrationModal('${event.registrationEventType || event.name || 'Event'}')">
                            <i class="fas fa-ticket-alt"></i> Register Interest
                        </button>
                    </div>
                `).join('');
        }

        // Communities - REMOVED BACKGROUND AND CLICK FUNCTIONALITY
        function loadCommunities() {
            const main = document.getElementById('mainContent');
            const communities = brandData.communities || {};
            
            const communitiesSection = document.createElement('section');
            communitiesSection.className = 'communities-section';
            communitiesSection.id = 'communities';
            
            communitiesSection.innerHTML = `
                <div class="section-header">
                    <h2 class="cinzel-font">${communities.title || 'Brand Communities'}</h2>
                    ${communities.subtitle ? `<p class="section-subtitle">${communities.subtitle}</p>` : ''}
                </div>
                
                <div class="container">
                    <div class="communities-grid">
                        ${generateCommunities(communities.items)}
                    </div>
                </div>
            `;
            
            main.appendChild(communitiesSection);
        }

        function generateCommunities(items) {
            if (!items) {
                return `
                    <div class="community-card">
                        <img src="https://i.postimg.cc/fL0kYjY4/executive-circle-logo.png" alt="Executive Circle" class="community-logo">
                        <h3 class="community-name">Executive Circle</h3>
                        <p class="community-description">Exclusive network for C-level executives</p>
                    </div>
                    <div class="community-card">
                        <img src="https://i.postimg.cc/GpX7qL6N/icon-makers-logo.png" alt="Icon Makers" class="community-logo">
                        <h3 class="community-name">Icon Makers</h3>
                        <p class="community-description">Community of creators and innovators</p>
                    </div>
                    <div class="community-card">
                        <img src="https://i.postimg.cc/9Q1JqKvP/emerging-leaders-logo.png" alt="Emerging Leaders" class="community-logo">
                        <h3 class="community-name">Emerging Leaders</h3>
                        <p class="community-description">For tomorrow's leaders and change-makers</p>
                    </div>
                `;
            }
            
            return Object.values(items)
                .filter(community => community.visible !== false)
                .map(community => `
                    <div class="community-card">
                        <img src="${community.logo || 'https://via.placeholder.com/120'}" alt="${community.name || 'Community'}" class="community-logo" loading="lazy">
                        <h3 class="community-name">${community.name || 'Community Name'}</h3>
                        ${community.description ? `<p class="community-description">${community.description}</p>` : ''}
                    </div>
                `).join('');
        }

        // About
        function loadAbout() {
            const main = document.getElementById('mainContent');
            const about = brandData.about || {};
            
            const aboutSection = document.createElement('section');
            aboutSection.className = 'about';
            aboutSection.id = 'about';
            
            const sections = about.sections || {};
            const sectionsArray = Object.values(sections).filter(s => s && typeof s === 'string');
            
            aboutSection.innerHTML = `
                <div class="section-header">
                    <h2 class="cinzel-font">${about.title || 'About Mugera'}</h2>
                </div>
                
                <div class="container">
                    <div class="about-grid">
                        <div class="about-image">
                            <img src="${about.image || 'https://images.unsplash.com/photo-1560250097-0b93528c311a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80'}" 
                                 alt="${about.name || 'Mugera'}" loading="lazy">
                        </div>
                        
                        <div>
                            <h3 class="cinzel-font">${about.name || 'Mugera W.'}</h3>
                            ${sectionsArray.length > 0 ? sectionsArray.map(section => `<p>${section}</p>`).join('') : `
                                <p>Mugera is a distinguished public speaker, life coach, and author dedicated to helping individuals and organizations unlock their full potential through transformative insights and proven methodologies.</p>
                                <p>With over a decade of experience in leadership development and personal transformation, Mugera has worked with executives, entrepreneurs, and teams across Africa and beyond, delivering keynote speeches, workshops, and coaching sessions that inspire lasting change.</p>
                            `}
                            
                            <button class="cta-button" onclick="openRegistrationModal('Executive Coaching')">
                                <i class="fas fa-handshake"></i> Explore Executive Partnership
                            </button>
                        </div>
                    </div>
                </div>
            `;
            
            main.appendChild(aboutSection);
        }

        // Featured Products
        function loadFeaturedProducts() {
            const main = document.getElementById('mainContent');
            const store = brandData.store || {};
            
            const featuredSection = document.createElement('section');
            featuredSection.className = 'featured-products-section';
            featuredSection.id = 'featured-products';
            
            const featuredProducts = getFeaturedProducts();
            
            featuredSection.innerHTML = `
                <div class="section-header">
                    <h2 class="cinzel-font">${store.title || 'Featured Products'}</h2>
                    <p class="section-subtitle">${store.subtitle || 'Discover our most popular and latest offerings'}</p>
                </div>
                
                <div class="container">
                    <div class="featured-products-grid">
                        ${generateFeaturedProductCard(featuredProducts.mostBought, 'Most Popular')}
                        ${generateFeaturedProductCard(featuredProducts.latest, 'Just Released')}
                    </div>
                    
                    <div class="featured-products-cta">
                        <a href="shop.html" class="cta-button">
                            <i class="fas fa-store"></i> Visit Full Shop
                        </a>
                    </div>
                </div>
            `;
            
            main.appendChild(featuredSection);
        }

        function getFeaturedProducts() {
            const products = Object.values(brandData.store?.products || {})
                .filter(p => p.visible !== false);
            
            return {
                mostBought: products.find(p => p.badge?.toLowerCase().includes('bestseller')) || products[0] || {
                    name: 'Signature Collection',
                    description: 'Our best-selling premium collection loved by thousands of clients worldwide. Includes curated items for your personal and professional growth.',
                    image: 'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                    price: '$99',
                    originalPrice: '$149',
                    salesCount: '1000+ sold'
                },
                latest: products.find(p => p.badge?.toLowerCase().includes('new')) || products[1] || {
                    name: 'Mindset Mastery Program',
                    description: 'Groundbreaking techniques for mindset transformation and peak performance. Newly developed methodology based on latest research.',
                    image: 'https://images.unsplash.com/photo-1551434678-e076c223a692?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',
                    price: '$79',
                    isNew: true
                }
            };
        }

        function generateFeaturedProductCard(product, badge) {
            return `
                <div class="featured-product-card">
                    <div class="featured-product-image">
                        <img src="${product.image}" alt="${product.name}" loading="lazy">
                        <div class="featured-product-badge">${badge}</div>
                    </div>
                    <div class="featured-product-content">
                        <div class="featured-product-tag">${badge === 'Most Popular' ? 'Best Seller' : 'New Arrival'}</div>
                        <h3 class="featured-product-title">${product.name}</h3>
                        <p>${product.description}</p>
                        
                        ${product.salesCount ? `
                            <div style="color: var(--gold); margin: 1rem 0;">
                                <i class="fas fa-chart-line"></i> ${product.salesCount}
                            </div>
                        ` : ''}
                        
                        <div class="featured-product-footer">
                            <div class="featured-product-price">
                                ${product.originalPrice ? `<del>${product.originalPrice}</del>` : ''}
                                ${product.price}
                            </div>
                            <button class="cta-button" onclick="openProductModal('${product.name}', '${product.price}', '${product.image}')">
                                <i class="fas fa-shopping-cart"></i> Order Now
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Contact - IMPROVED
        function loadContact() {
            const main = document.getElementById('mainContent');
            const contact = brandData.contact || {};
            
            const contactSection = document.createElement('section');
            contactSection.className = 'contact';
            contactSection.id = 'contact';
            
            contactSection.innerHTML = `
                <div class="section-header">
                    <h2 class="cinzel-font">${contact.title || 'Get in Touch'}</h2>
                    ${contact.subtitle ? `<p class="section-subtitle">${contact.subtitle}</p>` : ''}
                </div>
                
                <div class="container">
                    <div class="contact-grid">
                        ${generateContactMethods(contact.methods)}
                    </div>
                    
                    ${contact.whatsapp ? `
                        <a href="${contact.whatsapp.url}" class="whatsapp-button" target="_blank">
                            <i class="${contact.whatsapp.icon || 'fab fa-whatsapp'}"></i> 
                            ${contact.whatsapp.text || 'Connect on WhatsApp'}
                        </a>
                    ` : `
                        <a href="https://wa.me/254700000000" class="whatsapp-button" target="_blank">
                            <i class="fab fa-whatsapp"></i> Connect on WhatsApp
                        </a>
                    `}
                </div>
            `;
            
            main.appendChild(contactSection);
        }

        function generateContactMethods(methods) {
            if (!methods) {
                return `
                    <div class="contact-card">
                        <div class="contact-icon"><i class="fas fa-envelope"></i></div>
                        <h3>Email</h3>
                        <p>info@iammugera.com</p>
                    </div>
                    <div class="contact-card">
                        <div class="contact-icon"><i class="fas fa-phone-alt"></i></div>
                        <h3>Phone</h3>
                        <p>+254 700 000 000</p>
                    </div>
                    <div class="contact-card">
                        <div class="contact-icon"><i class="fas fa-map-marker-alt"></i></div>
                        <h3>Location</h3>
                        <p>Nairobi, Kenya</p>
                    </div>
                `;
            }
            
            return Object.values(methods)
                .filter(method => method.visible !== false)
                .map(method => `
                    <div class="contact-card">
                        <div class="contact-icon"><i class="${method.icon || 'fas fa-info-circle'}"></i></div>
                        <h3>${method.label || 'Contact'}</h3>
                        <p>${method.value || 'Information'}</p>
                    </div>
                `).join('');
        }

        // Footer - UPDATED SOCIAL ICONS
        function loadFooter() {
            const footer = document.getElementById('mainFooter');
            const footerData = brandData.footer || {};
            
            footer.innerHTML = `
                <div class="footer-container">
                    <div class="footer-column">
                        <img src="${footerData.signatureUrl || 'https://i.postimg.cc/8cr13sL7/MUGERA-1-removebg-preview.png'}" 
                             alt="I AM MUGERA" class="footer-logo">
                        <p class="footer-description">${footerData.description || 'Empowering individuals and organizations to unlock their full potential through transformative speaking, coaching, and writing.'}</p>
                        
                        <div class="social-links">
                            <a href="#" class="social-link" target="_blank"><img src="https://i.postimg.cc/cLt8Ns9L/twitter-3.png" alt="X"></a>
                            <a href="#" class="social-link" target="_blank"><img src="https://i.postimg.cc/2yd2GQvN/tiktok.png" alt="TikTok"></a>
                            <a href="#" class="social-link" target="_blank"><img src="https://i.postimg.cc/wT71hqdx/facebook-2.png" alt="Facebook"></a>
                            <a href="#" class="social-link" target="_blank"><img src="https://i.postimg.cc/QCScV01s/instagram-2.png" alt="Instagram"></a>
                        </div>
                    </div>

                    <div class="footer-column">
                        <h3>Quick Links</h3>
                        ${generateFooterLinks(footerData.quickLinks)}
                    </div>

                    <div class="footer-column">
                        <h3>Our Communities</h3>
                        ${generateFooterLinks(footerData.communities)}
                    </div>

                    <div class="footer-column">
                        <h3>Contact Information</h3>
                        ${generateContactInfo(footerData.contactInfo)}
                    </div>
                </div>
                
                <div class="copyright">
                    <p>${footerData.copyright || ' 2024 I AM MUGERA. All rights reserved.'}</p>
                    <p>${footerData.tagline || 'Inspiring Excellence, Building Icons'}</p>
                </div>
            `;
        }

        function generateFooterLinks(links) {
            if (!links) {
                return `
                    <a href="#home">Home</a>
                    <a href="#talk-series">Talk Series</a>
                    <a href="#conference">Conference</a>
                    <a href="#programs">Programs</a>
                    <a href="#author">Author</a>
                    <a href="#contact">Contact</a>
                `;
            }
            
            return Object.values(links).map(link => `
                <a href="#${link.url || link.title.toLowerCase().replace(/\s+/g, '-')}">${link.title}</a>
            `).join('');
        }

        function generateContactInfo(info) {
            if (!info) {
                return `
                    <div class="contact-info-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>Nairobi, Kenya</span>
                    </div>
                    <div class="contact-info-item">
                        <i class="fas fa-phone"></i>
                        <span>+254 700 000 000</span>
                    </div>
                    <div class="contact-info-item">
                        <i class="fas fa-envelope"></i>
                        <span>info@iammugera.com</span>
                    </div>
                `;
            }
            
            return `
                ${info.location ? `
                    <div class="contact-info-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>${info.location}</span>
                    </div>
                ` : ''}
                ${info.phone ? `
                    <div class="contact-info-item">
                        <i class="fas fa-phone"></i>
                        <span>${info.phone}</span>
                    </div>
                ` : ''}
                ${info.email ? `
                    <div class="contact-info-item">
                        <i class="fas fa-envelope"></i>
                        <span>${info.email}</span>
                    </div>
                ` : ''}
            `;
        }

        // Mobile Menu
        function initMobileMenu() {
            const toggle = document.getElementById('mobileMenuToggle');
            const overlay = document.getElementById('mobileMenuOverlay');
            const menu = document.getElementById('mobileMenu');
            
            if (!toggle || !overlay || !menu) return;
            
            toggle.addEventListener('click', toggleMobileMenu);
            overlay.addEventListener('click', toggleMobileMenu);
            
            document.querySelectorAll('.mobile-nav-link').forEach(link => {
                link.addEventListener('click', toggleMobileMenu);
            });
        }

        function toggleMobileMenu() {
            const toggle = document.getElementById('mobileMenuToggle');
            const overlay = document.getElementById('mobileMenuOverlay');
            const menu = document.getElementById('mobileMenu');
            
            toggle.classList.toggle('active');
            overlay.classList.toggle('active');
            menu.classList.toggle('active');
            document.body.style.overflow = menu.classList.contains('active') ? 'hidden' : '';
        }

        function initSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;
                    
                    const target = document.querySelector(targetId);
                    if (target) {
                        window.scrollTo({
                            top: target.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // Modal Functions
        function openRegistrationModal(eventType) {
            const modal = document.getElementById('registrationModal');
            document.getElementById('modalTitle').textContent = 'Register Now';
            document.getElementById('modalSubtitle').textContent = 'Fill out the form below to register';
            
            const eventSelect = document.getElementById('eventType');
            if (eventSelect && eventType) {
                // Find matching option
                const options = eventSelect.options;
                for (let i = 0; i < options.length; i++) {
                    if (options[i].value.toLowerCase().includes(eventType.toLowerCase()) || 
                        eventType.toLowerCase().includes(options[i].value.toLowerCase())) {
                        eventSelect.selectedIndex = i;
                        break;
                    }
                }
            }
            
            document.getElementById('registrationForm').style.display = 'flex';
            document.getElementById('formSuccess').style.display = 'none';
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            clearForm('registrationForm');
        }

        function closeRegistrationModal() {
            document.getElementById('registrationModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function openWaitlistModal() {
            const modal = document.getElementById('waitlistModal');
            document.getElementById('waitlistForm').style.display = 'flex';
            document.getElementById('waitlistSuccess').style.display = 'none';
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            clearForm('waitlistForm');
        }

        function closeWaitlistModal() {
            document.getElementById('waitlistModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function openProductModal(name, price, image) {
            const modal = document.getElementById('productModal');
            document.getElementById('productModalTitle').textContent = 'Order: ' + name;
            document.getElementById('productModalSubtitle').textContent = 'Complete your purchase details';
            
            document.getElementById('productModalImage').innerHTML = `<img src="${image}" alt="${name}">`;
            document.getElementById('productName').value = name;
            document.getElementById('productPrice').value = price;
            
            document.getElementById('productOrderForm').style.display = 'flex';
            document.getElementById('productSuccess').style.display = 'none';
            
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            clearForm('productOrderForm');
        }

        function closeProductModal() {
            document.getElementById('productModal').classList.remove('active');
            document.body.style.overflow = '';
        }

        function clearForm(formId) {
            const form = document.getElementById(formId);
            if (!form) return;
            
            const inputs = form.querySelectorAll('input, select, textarea');
            inputs.forEach(input => {
                if (input.type !== 'submit' && !input.readOnly) {
                    input.value = '';
                }
            });
            
            form.querySelectorAll('.form-error').forEach(e => e.classList.remove('show'));
        }

        // Form Validation
        function validateRegistrationForm() {
            let isValid = true;
            
            document.querySelectorAll('#registrationForm .form-error').forEach(e => e.classList.remove('show'));
            
            const fullName = document.getElementById('fullName').value.trim();
            const email = document.getElementById('email').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const eventType = document.getElementById('eventType').value;
            
            if (!fullName) {
                document.getElementById('nameError').classList.add('show');
                isValid = false;
            }
            
            if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                document.getElementById('emailError').classList.add('show');
                isValid = false;
            }
            
            if (!phone) {
                document.getElementById('phoneError').classList.add('show');
                isValid = false;
            }
            
            if (!eventType) {
                document.getElementById('eventTypeError').classList.add('show');
                isValid = false;
            }
            
            return isValid;
        }

        function validateWaitlistForm() {
            let isValid = true;
            
            document.querySelectorAll('#waitlistForm .form-error').forEach(e => e.classList.remove('show'));
            
            const name = document.getElementById('waitlistName').value.trim();
            const email = document.getElementById('waitlistEmail').value.trim();
            
            if (!name) {
                document.getElementById('waitlistNameError').classList.add('show');
                isValid = false;
            }
            
            if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                document.getElementById('waitlistEmailError').classList.add('show');
                isValid = false;
            }
            
            return isValid;
        }

        function validateProductOrderForm() {
            let isValid = true;
            
            document.querySelectorAll('#productOrderForm .form-error').forEach(e => e.classList.remove('show'));
            
            const fullName = document.getElementById('productFullName').value.trim();
            const email = document.getElementById('productEmail').value.trim();
            const phone = document.getElementById('productPhone').value.trim();
            const address = document.getElementById('productAddress').value.trim();
            const paymentMethod = document.getElementById('paymentMethod').value;
            
            if (!fullName) {
                document.getElementById('productNameError').classList.add('show');
                isValid = false;
            }
            
            if (!email || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                document.getElementById('productEmailError').classList.add('show');
                isValid = false;
            }
            
            if (!phone) {
                document.getElementById('productPhoneError').classList.add('show');
                isValid = false;
            }
            
            if (!address) {
                document.getElementById('productAddressError').classList.add('show');
                isValid = false;
            }
            
            if (!paymentMethod) {
                document.getElementById('paymentMethodError').classList.add('show');
                isValid = false;
            }
            
            return isValid;
        }

        // Form Submissions
        async function submitRegistration() {
            if (!validateRegistrationForm()) return;
            
            const submitBtn = document.getElementById('submitBtn');
            const form = document.getElementById('registrationForm');
            const success = document.getElementById('formSuccess');
            
            const data = {
                fullName: document.getElementById('fullName').value.trim(),
                email: document.getElementById('email').value.trim(),
                phone: document.getElementById('phone').value.trim(),
                profession: document.getElementById('profession').value.trim(),
                location: document.getElementById('location').value.trim(),
                eventType: document.getElementById('eventType').value,
                message: document.getElementById('message').value.trim(),
                timestamp: new Date().toISOString(),
                source: 'website'
            };
            
            try {
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                
                if (database) {
                    const id = 'reg_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                    await database.ref('registrations/' + id).set(data);
                }
                
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                form.style.display = 'none';
                success.style.display = 'block';
                
            } catch (error) {
                console.error('Error:', error);
                alert('There was an error. Please try again.');
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Submit Registration';
            }
        }

        async function submitWaitlist() {
            if (!validateWaitlistForm()) return;
            
            const submitBtn = document.getElementById('waitlistSubmitBtn');
            const form = document.getElementById('waitlistForm');
            const success = document.getElementById('waitlistSuccess');
            
            const data = {
                fullName: document.getElementById('waitlistName').value.trim(),
                email: document.getElementById('waitlistEmail').value.trim(),
                profession: document.getElementById('waitlistProfession').value.trim(),
                interest: document.getElementById('waitlistInterest').value,
                timestamp: new Date().toISOString()
            };
            
            try {
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                
                if (database) {
                    const id = 'waitlist_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                    await database.ref('waitlists/' + id).set(data);
                }
                
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                form.style.display = 'none';
                success.style.display = 'block';
                
            } catch (error) {
                console.error('Error:', error);
                alert('There was an error. Please try again.');
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-bell"></i> Join Waitlist';
            }
        }

        async function submitProductOrder() {
            if (!validateProductOrderForm()) return;
            
            const submitBtn = document.getElementById('productSubmitBtn');
            const form = document.getElementById('productOrderForm');
            const success = document.getElementById('productSuccess');
            
            const data = {
                fullName: document.getElementById('productFullName').value.trim(),
                email: document.getElementById('productEmail').value.trim(),
                phone: document.getElementById('productPhone').value.trim(),
                address: document.getElementById('productAddress').value.trim(),
                productName: document.getElementById('productName').value,
                productPrice: document.getElementById('productPrice').value,
                paymentMethod: document.getElementById('paymentMethod').value,
                instructions: document.getElementById('productInstructions').value.trim(),
                timestamp: new Date().toISOString()
            };
            
            try {
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
                
                if (database) {
                    const id = 'order_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                    await database.ref('orders/' + id).set(data);
                }
                
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                form.style.display = 'none';
                success.style.display = 'block';
                
            } catch (error) {
                console.error('Error:', error);
                alert('There was an error. Please try again.');
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = '<i class="fas fa-shopping-cart"></i> Place Order';
            }
        }

        // Close modals on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeRegistrationModal();
                closeWaitlistModal();
                closeProductModal();
            }
        });

        // Close modals when clicking outside
        document.getElementById('registrationModal')?.addEventListener('click', (e) => {
            if (e.target === document.getElementById('registrationModal')) {
                closeRegistrationModal();
            }
        });

        document.getElementById('waitlistModal')?.addEventListener('click', (e) => {
            if (e.target === document.getElementById('waitlistModal')) {
                closeWaitlistModal();
            }
        });

        document.getElementById('productModal')?.addEventListener('click', (e) => {
            if (e.target === document.getElementById('productModal')) {
                closeProductModal();
            }
        });
    </script>
</body>
</html>
