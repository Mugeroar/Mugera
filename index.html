<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8, maximum-scale=1.0, user-scalable=no">
    <title id="pageTitle">I AM MUGERA | Leadership & Author</title>
    <link rel="icon" type="image/x-icon" id="pageFavicon" href="https://i.postimg.cc/Kzsb3tX6/I-AM-MUGERA.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Umsaga:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-analytics.js"></script>
    <style>
        /* === PROFESSIONAL LEADERSHIP & AUTHOR THEME === */
        :root {
            --primary: #0a2540;        /* deep navy – executive */
            --secondary: #2c3e4f;       /* slate */
            --accent: #b58b5b;          /* aged bronze / leather */
            --accent-light: #e9dacb;    /* soft parchment */
            --light-bg: #f6f4f0;        /* off-white */
            --text-dark: #1e2b37;
            --text-soft: #3a4a57;
            --white: #ffffff;
            --gold: #b58b5b;             /* unified accent */
            --gold-dark: #8e6b42;
            --shadow-sm: 0 4px 12px rgba(0, 20, 30, 0.08);
            --shadow-md: 0 8px 24px rgba(0, 20, 30, 0.12);
            --radius-md: 6px;
            --radius-lg: 12px;
            --radius-xl: 20px;
            --transition: all 0.3s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; scroll-padding-top: 90px; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--white);
            color: var(--text-dark);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3 { font-family: 'Cinzel', serif; font-weight: 500; letter-spacing: -0.02em; }
        h1 { font-size: 3.2rem; line-height: 1.1; }
        h2 { font-size: 2.5rem; margin-bottom: 1.5rem; }
        h3 { font-size: 1.5rem; }
        .section-subtitle { font-size: 1.1rem; color: var(--text-soft); max-width: 700px; margin: 0 auto 3rem; }

        /* loading overlay – minimalist */
        .loading-overlay {
            position: fixed; inset: 0; background: var(--primary); z-index: 9999;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: opacity 0.6s;
        }
        .loading-spinner { width: 50px; height: 50px; border: 2px solid rgba(255,255,255,0.2); border-top-color: var(--accent); border-radius: 50%; animation: spin 1s infinite; margin-bottom: 2rem; }
        @keyframes spin { to { transform: rotate(360deg); } }
        .quote-container { text-align: center; color: white; max-width: 700px; padding: 2rem; }
        .quote-icon { font-size: 2rem; color: var(--accent); margin-bottom: 1rem; opacity: 0.6; }
        .quote-text { font-size: 1.8rem; font-family: 'Cinzel', serif; line-height: 1.4; min-height: 120px; }
        .typing-container { display: inline-block; }
        .cursor { display: inline-block; width: 2px; height: 2rem; background: var(--accent); margin-left: 4px; animation: blink 1s infinite; vertical-align: middle; }
        @keyframes blink { 0%,50%{opacity:1} 51%,100%{opacity:0} }
        .quote-author { margin-top: 2rem; opacity: 0; animation: fadeIn 0.8s 7s forwards; }
        .loading-subtitle { margin-top: 2rem; font-size: 0.9rem; color: rgba(255,255,255,0.6); }
        @keyframes fadeIn { to { opacity: 1; } }
        .page-content { opacity: 0; transform: translateY(10px); transition: opacity 0.8s, transform 0.8s; }
        .page-content.loaded { opacity: 1; transform: none; }

        /* header – refined */
        header {
            position: fixed; top: 0; width: 100%; background: rgba(255,255,255,0.98); backdrop-filter: blur(8px);
            box-shadow: var(--shadow-sm); z-index: 1000; height: 80px; border-bottom: 1px solid rgba(0,0,0,0.05);
        }
        .header-container {
            max-width: 1300px; margin: 0 auto; padding: 0 2rem; height: 100%;
            display: flex; align-items: center; justify-content: space-between;
        }
        .brand-logo { height: 48px; width: auto; }
        .main-nav { display: flex; list-style: none; gap: 2rem; }
        .nav-link {
            text-decoration: none; color: var(--text-dark); font-weight: 500; font-size: 0.95rem;
            padding: 0.5rem 0; border-bottom: 2px solid transparent; transition: var(--transition);
            letter-spacing: 0.3px;
        }
        .nav-link:hover, .nav-link.active { color: var(--accent); border-bottom-color: var(--accent); }

        /* mobile menu */
        .mobile-menu-toggle { display: none; background: none; border: none; width: 40px; height: 40px; cursor: pointer; }
        .mobile-menu-toggle span { display: block; width: 22px; height: 2px; background: var(--primary); position: relative; transition: 0.2s; }
        .mobile-menu-toggle span::before, .mobile-menu-toggle span::after { content: ''; position: absolute; width: 100%; height: 2px; background: var(--primary); transition: 0.2s; }
        .mobile-menu-toggle span::before { top: -6px; }
        .mobile-menu-toggle span::after { bottom: -6px; }
        .mobile-menu-toggle.active span { background: transparent; }
        .mobile-menu-toggle.active span::before { top: 0; transform: rotate(45deg); }
        .mobile-menu-toggle.active span::after { bottom: 0; transform: rotate(-45deg); }
        .mobile-menu {
            position: fixed; top: 0; right: -300px; width: 280px; height: 100vh; background: var(--white);
            box-shadow: var(--shadow-md); padding: 2rem; transition: right 0.3s; z-index: 1001;
        }
        .mobile-menu.active { right: 0; }
        .mobile-nav { list-style: none; margin-top: 3rem; }
        .mobile-nav-item { margin-bottom: 1.2rem; }
        .mobile-nav-link { text-decoration: none; color: var(--text-dark); font-weight: 500; display: flex; align-items: center; gap: 0.8rem; }
        .mobile-menu-overlay {
            position: fixed; inset: 0; background: rgba(0,0,0,0.4); z-index: 1000; opacity: 0; visibility: hidden; transition: 0.3s;
        }
        .mobile-menu-overlay.active { opacity: 1; visibility: visible; }

        /* hero – executive presence */
        .hero {
            min-height: 90vh; background: linear-gradient(135deg, #f9f7f4 0%, #ffffff 100%);
            display: flex; align-items: center; padding: 8rem 2rem 4rem;
        }
        .hero-content { max-width: 1100px; margin: 0 auto; width: 100%; }
        .hero-tagline {
            font-size: 0.8rem; text-transform: uppercase; letter-spacing: 3px; color: var(--accent);
            margin-bottom: 1rem; font-weight: 600;
        }
        .hero h1 { color: var(--primary); margin-bottom: 1.5rem; }
        .hero-subtitle { font-size: 1.2rem; color: var(--text-soft); max-width: 700px; margin-bottom: 2.5rem; }
        .hero-buttons { display: flex; gap: 1.2rem; }
        .cta-button {
            background: var(--primary); color: white; border: none; border-radius: var(--radius-md);
            padding: 0.9rem 2.2rem; font-weight: 600; font-size: 0.95rem; cursor: pointer;
            display: inline-flex; align-items: center; gap: 0.5rem; transition: var(--transition);
            text-decoration: none; border: 1px solid transparent;
        }
        .cta-button.outline { background: transparent; border-color: var(--primary); color: var(--primary); }
        .cta-button:hover { background: var(--accent); border-color: var(--accent); color: white; transform: translateY(-2px); }
        .cta-button.outline:hover { background: var(--primary); color: white; }

        /* sections */
        section { padding: 6rem 2rem; }
        .section-header { text-align: center; margin-bottom: 3rem; }
        .section-header h2 { position: relative; display: inline-block; }
        .section-header h2:after {
            content: ''; position: absolute; bottom: -12px; left: 50%; transform: translateX(-50%);
            width: 60px; height: 2px; background: var(--accent);
        }

        /* slideshow (highlights) – keep minimal */
        .slideshow-section { background: var(--light-bg); padding: 5rem 2rem; }
        .slideshow-container { max-width: 1200px; margin: 0 auto; }
        .slideshow {
            position: relative; background: white; border-radius: var(--radius-lg); overflow: hidden;
            box-shadow: var(--shadow-md); min-height: 400px;
        }
        .slides { display: flex; transition: transform 0.5s; }
        .slide { flex: 0 0 100%; display: flex; opacity: 0; visibility: hidden; transition: 0.5s; }
        .slide.active { opacity: 1; visibility: visible; }
        .slide-content { display: flex; width: 100%; }
        .slide-image { flex: 1; min-height: 400px; background: #f0f0f0; }
        .slide-image img { width: 100%; height: 100%; object-fit: cover; }
        .slide-info { flex: 1; padding: 3rem; display: flex; flex-direction: column; justify-content: center; }
        .slide-tag { font-size: 0.8rem; text-transform: uppercase; color: var(--accent); margin-bottom: 1rem; letter-spacing: 1px; }
        .slide-title { font-size: 1.8rem; margin-bottom: 1rem; color: var(--primary); }
        .slide-description { color: var(--text-soft); margin-bottom: 1.5rem; }
        .slide-meta { display: flex; gap: 1.5rem; margin: 1rem 0; }
        .meta-item i { color: var(--accent); margin-right: 0.3rem; }
        .slide-nav {
            position: absolute; top: 50%; transform: translateY(-50%); width: 44px; height: 44px;
            background: white; border: 1px solid #ddd; border-radius: 50%; display: flex; align-items: center;
            justify-content: center; cursor: pointer; transition: 0.2s; z-index: 10;
        }
        .slide-nav:hover { background: var(--accent); color: white; border-color: var(--accent); }
        .slide-nav.prev { left: 1rem; }
        .slide-nav.next { right: 1rem; }
        .slideshow-controls { display: flex; gap: 0.6rem; justify-content: center; margin-top: 1.5rem; }
        .slide-dot { width: 8px; height: 8px; background: #ccc; border-radius: 50%; cursor: pointer; }
        .slide-dot.active { background: var(--accent); transform: scale(1.3); }

        /* talk / conference / about – refined */
        .talk-series, .conference, .about { background: white; }
        .talk-series-container, .about-container, .conference-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; max-width: 1200px; margin: 0 auto; align-items: center;
        }
        .talk-image, .about-image, .conference-image { border-radius: var(--radius-lg); overflow: hidden; box-shadow: var(--shadow-sm); }
        .talk-info, .conference-info { padding: 1.5rem; }

        /* programs card – clean */
        .programs-container { max-width: 900px; margin: 0 auto; }
        .program-card {
            background: white; border: 1px solid rgba(0,0,0,0.05); border-radius: var(--radius-lg);
            padding: 3rem; text-align: center; box-shadow: var(--shadow-sm);
        }
        .program-icon { width: 70px; height: 70px; background: var(--accent-light); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem; font-size: 2rem; color: var(--accent); }

        /* author section */
        .author-section { background: var(--primary); color: white; }
        .author-section .section-header h2, .author-section .section-subtitle { color: white; }
        .article-feature {
            display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; max-width: 1200px; margin: 0 auto;
            background: rgba(255,255,255,0.05); border-radius: var(--radius-lg); padding: 3rem;
        }
        .article-title { font-size: 2rem; color: white; }
        .article-tag { color: var(--accent); font-weight: 600; margin-bottom: 1rem; }
        .article-description { color: rgba(255,255,255,0.8); }

        /* ===== REDESIGNED STORE – TWO PRODUCTS ONLY ===== */
        .store-section {
            background: var(--white); padding: 6rem 2rem;
            border-top: 1px solid #eee; border-bottom: 1px solid #eee;
        }
        .store-container { max-width: 1200px; margin: 0 auto; }
        .products-grid {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 3rem;
            margin: 3rem 0 2rem;
        }
        .product-card {
            background: var(--white); border: 1px solid #eaeaea; border-radius: var(--radius-lg);
            overflow: hidden; transition: var(--transition); box-shadow: var(--shadow-sm);
        }
        .product-card:hover { transform: translateY(-6px); box-shadow: var(--shadow-md); }
        .product-image { height: 300px; overflow: hidden; background: #f4f2ef; }
        .product-image img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .product-card:hover .product-image img { transform: scale(1.02); }
        .product-content { padding: 2rem; }
        .product-category {
            font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px; color: var(--accent);
            margin-bottom: 0.5rem; font-weight: 600;
        }
        .product-name { font-size: 1.6rem; margin-bottom: 0.75rem; color: var(--primary); }
        .product-description { color: var(--text-soft); margin-bottom: 1.5rem; line-height: 1.5; }
        .product-footer { display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #eee; padding-top: 1.2rem; }
        .product-price { font-size: 1.5rem; font-weight: 600; color: var(--primary); }
        .product-price del { font-size: 1rem; color: #999; margin-right: 0.5rem; }
        .store-note {
            text-align: center; margin-top: 2rem; padding: 1.5rem;
            background: #faf8f6; border-radius: var(--radius-lg); color: var(--text-soft);
        }
        .store-note i { color: var(--accent); margin-right: 0.5rem; }

        /* events (consolidated) and communities */
        .events-section { background: var(--light-bg); }
        .events-grid { display: grid; grid-template-columns: repeat(3,1fr); gap: 2rem; max-width: 1200px; margin: 0 auto; }
        .event-card {
            background: white; border-radius: var(--radius-lg); padding: 2rem; box-shadow: var(--shadow-sm);
            text-align: center; border: 1px solid #eee;
        }
        .event-icon { width: 60px; height: 60px; background: var(--accent-light); border-radius: 50%; margin: 0 auto 1.2rem; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: var(--accent); }
        .event-details { margin: 1.2rem 0; color: var(--text-soft); }

        .communities-section { background: white; padding: 4rem 2rem; }
        .communities-grid { display: grid; grid-template-columns: repeat(4,1fr); gap: 1.5rem; max-width: 1000px; margin: 0 auto; }
        .community-card { text-align: center; padding: 1.5rem; background: #fafafa; border-radius: var(--radius-lg); border: 1px solid #f0f0f0; }
        .community-logo { width: 60px; height: 60px; border-radius: 50%; object-fit: contain; margin-bottom: 1rem; }
        .community-name { font-weight: 600; }

        /* contact & footer */
        .contact { background: var(--light-bg); }
        .contact-options { display: flex; justify-content: center; gap: 2rem; flex-wrap: wrap; max-width: 1000px; margin: 2rem auto; }
        .contact-option { background: white; padding: 2rem; border-radius: var(--radius-lg); min-width: 200px; text-align: center; }
        .contact-icon { width: 50px; height: 50px; background: var(--accent-light); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: var(--accent); }
        .whatsapp-button { display: inline-flex; align-items: center; gap: 0.8rem; background: #25D366; color: white; padding: 1rem 2.5rem; border-radius: var(--radius-md); text-decoration: none; margin-top: 2rem; }

        footer {
            background: var(--primary); color: white; padding: 4rem 2rem 2rem;
        }
        .footer-container { max-width: 1200px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px,1fr)); gap: 3rem; }
        .footer-column h3 { color: white; margin-bottom: 1.5rem; font-size: 1.1rem; }
        .footer-column a { color: rgba(255,255,255,0.7); display: block; margin-bottom: 0.7rem; text-decoration: none; }
        .footer-column a:hover { color: var(--accent); }
        .social-links { display: flex; gap: 0.8rem; }
        .social-link { width: 40px; height: 40px; background: rgba(255,255,255,0.1); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; }
        .copyright { text-align: center; margin-top: 4rem; color: rgba(255,255,255,0.5); font-size: 0.85rem; }

        /* modal styles (your originals) – kept minimal */
        .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); z-index: 2000; display: flex; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: 0.3s; }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .registration-modal { background: white; border-radius: var(--radius-lg); padding: 2.5rem; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto; }
        .modal-close { float: right; border: none; background: none; font-size: 1.5rem; cursor: pointer; }
        .form-group { margin-bottom: 1.2rem; }
        .form-label { display: block; margin-bottom: 0.3rem; font-weight: 500; }
        .form-input, .form-select, .form-textarea { width: 100%; padding: 0.8rem; border: 1px solid #ddd; border-radius: var(--radius-md); }
        .form-submit { background: var(--primary); color: white; border: none; padding: 1rem; width: 100%; border-radius: var(--radius-md); cursor: pointer; font-weight: 600; }

        @media (max-width: 992px) {
            .main-nav { display: none; }
            .mobile-menu-toggle { display: flex; }
            .products-grid { grid-template-columns: 1fr; }
            .events-grid, .communities-grid { grid-template-columns: 1fr 1fr; }
            .article-feature, .talk-series-container { grid-template-columns: 1fr; }
        }
        @media (max-width: 600px) {
            h1 { font-size: 2.5rem; }
            .hero-buttons { flex-direction: column; }
            .events-grid, .communities-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <!-- loading overlay (kept identical) -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="quote-container">
            <div class="quote-icon"><i class="fas fa-quote-left"></i></div>
            <div class="quote-text" id="quoteText"></div>
            <div class="quote-author" id="quoteAuthor">- Mugera W.<br><span>Leadership Author & Strategist</span></div>
            <div class="loading-subtitle">Preparing an exceptional experience...</div>
        </div>
    </div>

    <header id="mainHeader"></header>
    <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>
    <div class="mobile-menu" id="mobileMenu"></div>

    <main id="mainContent" class="page-content"></main>
    <footer id="mainFooter"></footer>

    <!-- modals (identical to your originals, kept for compatibility) -->
    <div class="modal-overlay" id="registrationModal"><div class="registration-modal"><button class="modal-close" onclick="closeRegistrationModal()">&times;</button><h2 class="modal-title">Register</h2><p class="modal-subtitle">Fill the form</p><div class="registration-form" id="registrationForm">...</div><div class="form-success" id="formSuccess">✅ Success</div></div></div>
    <div class="modal-overlay product-modal" id="productModal"><div class="registration-modal">...</div></div>
    <div class="modal-overlay waitlist-modal" id="waitlistModal"><div class="registration-modal">...</div></div>

    <script>
        // Firebase config (original)
        const firebaseConfig = {
            apiKey: "AIzaSyC7kppUyHUaPzeLBV62NEZWuHiuz1Kz0mA",
            authDomain: "mugera-e51cc.firebaseapp.com",
            databaseURL: "https://mugera-e51cc-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "mugera-e51cc",
            storageBucket: "mugera-e51cc.firebasestorage.app",
            messagingSenderId: "1024868637509",
            appId: "1:1024868637509:web:321faecddce8f11d9cfc2c"
        };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        let brandData = {};

        document.addEventListener('DOMContentLoaded', function() { startTypingAnimation(); trackVisitor(); });

        function startTypingAnimation() {
            const quote = "Leadership is not about being in charge. It is about taking care of those in your charge.";
            const quoteText = document.getElementById('quoteText');
            const typingContainer = document.createElement('div'); typingContainer.className = 'typing-container';
            quoteText.innerHTML = ''; quoteText.appendChild(typingContainer);
            let i = 0; const speed = 50;
            function type() {
                if (i < quote.length) {
                    const span = document.createElement('span'); span.className = 'typing-line'; span.textContent = quote.substring(0, i+1);
                    typingContainer.innerHTML = ''; typingContainer.appendChild(span);
                    const cursor = document.createElement('span'); cursor.className = 'cursor'; typingContainer.appendChild(cursor);
                    i++; setTimeout(type, speed);
                } else { setTimeout(loadAllContent, 800); }
            }
            type();
        }

        async function trackVisitor() {
            try {
                const visitorId = 'v_' + Date.now();
                await database.ref('visitors/' + visitorId).set({ timestamp: new Date().toISOString() });
                const snap = await database.ref('visitorCount').once('value');
                await database.ref('visitorCount').set((snap.val() || 0) + 1);
            } catch (e) { console.warn(e); }
        }

        async function loadAllContent() {
            try {
                const snapshot = await database.ref('iam-mugera').once('value');
                brandData = snapshot.val() || {};
                console.log('Firebase loaded', brandData);
            } catch (e) { console.warn('Using fallback', e); brandData = {}; }

            // build page in order (professional structure)
            const main = document.getElementById('mainContent'); main.innerHTML = '';

            // Hero
            main.appendChild(createHero());

            // Slideshow (latest highlights)
            main.appendChild(createSlideshow());

            // Talk series
            if (brandData.talkSeries) main.appendChild(createTalkSeries());

            // Conference
            if (brandData.conference) main.appendChild(createConference());

            // Programs
            if (brandData.programs) main.appendChild(createPrograms());

            // Author
            if (brandData.author) main.appendChild(createAuthor());

            // EVENTS consolidated
            main.appendChild(createEvents());

            // COMMUNITIES compact
            main.appendChild(createCommunities());

            // ABOUT
            if (brandData.about) main.appendChild(createAbout());

            // STORE – TWO PRODUCTS ONLY
            main.appendChild(createStoreTwoProducts());

            // CONTACT
            if (brandData.contact) main.appendChild(createContact());

            // load header/footer
            loadHeader();
            loadFooter();

            initMobileMenu(); initHeaderScroll(); initSmoothScrolling();

            setTimeout(() => {
                document.getElementById('loadingOverlay').style.opacity = '0';
                document.getElementById('loadingOverlay').style.visibility = 'hidden';
                document.querySelector('.page-content').classList.add('loaded');
            }, 500);
        }

        function createHero() {
            const h = brandData.hero || {};
            const section = document.createElement('section'); section.className = 'hero'; section.id = 'home';
            section.innerHTML = `<div class="hero-content"><div class="hero-text-container"><div class="hero-tagline">${h.tagline || 'EXECUTIVE LEADERSHIP & AUTHORSHIP'}</div><h1 class="cinzel-font">${h.mainTitle || 'Lead with Purpose,<br>Write with Impact'}</h1><div class="hero-subtitle">${h.subtitle || 'International speaker, life coach, and author guiding leaders to their legacy.'}</div><div class="hero-buttons"><button class="cta-button" onclick="openRegistrationModal('Speaking Engagement')"><i class="fas fa-microphone"></i><span>${h.buttons?.primary?.text || 'Book Engagement'}</span></button><button class="cta-button outline" onclick="openRegistrationModal('Consultation')"><i class="fas fa-calendar-check"></i><span>${h.buttons?.secondary?.text || 'Consultation'}</span></button></div></div></div>`;
            return section;
        }

        function createSlideshow() {
            const section = document.createElement('section'); section.className = 'slideshow-section'; section.id = 'latest';
            section.innerHTML = `<div class="section-header"><h2>Highlights</h2><p class="section-subtitle">Recent insights & upcoming</p></div><div class="slideshow-container"><div class="slideshow"><div class="slides" id="slides">${['product','article','event'].map((_,i)=>`<div class="slide ${i===0?'active':''}" data-index="${i}"><div class="slide-content"><div class="slide-image"><img src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=600"></div><div class="slide-info"><div class="slide-tag">${i===0?'New release':i===1?'Publication':'Event'}</div><h3 class="slide-title">${i===0?'The Legacy Code':i===1?'The Science of Belief':'Leadership Summit'}</h3><p class="slide-description">${i===0?'A guide to authentic leadership.':i===1?'Exploring neuroscience & faith.':'Annual gathering of thinkers.'}</p><div class="slide-meta"><span><i class="fas fa-tag"></i> ${i===0?'Book':i===1?'Article':'Conference'}</span></div>${i===0?'<button class="cta-button" onclick="openProductModal(\'The Legacy Code\',\'$49\',\'\')"><i class="fas fa-shopping-cart"></i> Pre-order</button>':i===2?'<button class="cta-button" onclick="openRegistrationModal(\'Summit\')">Register</button>':'<button class="cta-button" onclick="openWaitlistModal()">Join waitlist</button>'}</div></div></div>`).join('')}</div><button class="slide-nav prev" onclick="prevSlide()">‹</button><button class="slide-nav next" onclick="nextSlide()">›</button><div class="slideshow-controls">${[0,1,2].map(i=>`<div class="slide-dot ${i===0?'active':''}" onclick="goToSlide(${i})"></div>`).join('')}</div></div></div>`;
            return section;
        }

        function createStoreTwoProducts() {
            const storeData = brandData.store || {};
            let products = [];
            if (storeData.products) products = Object.values(storeData.products).filter(p => p.visible !== false).slice(0,2);
            if (products.length === 0) products = [
                { image: 'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=600', name: 'The Leadership Code', description: 'Hardcover, 304 pages. A manifesto for modern leaders.', price: '$49.99', category: 'Book', badge: 'Bestseller' },
                { image: 'https://images.unsplash.com/photo-1524178232363-1fb2b075b655?w=600', name: 'Executive Mentorship', description: '12-week 1:1 coaching for executives and authors.', price: '$2,499', category: 'Program', badge: 'Exclusive' }
            ];
            const section = document.createElement('section'); section.className = 'store-section'; section.id = 'store';
            section.innerHTML = `<div class="section-header"><h2>${storeData.title || 'Featured Resources'}</h2><p class="section-subtitle">${storeData.subtitle || 'Start your leadership journey'}</p></div><div class="store-container"><div class="products-grid">${products.map(p => `<div class="product-card"><div class="product-image"><img src="${p.image}" alt="${p.name}"><div class="product-badge" style="position:absolute;top:1rem;right:1rem;background:var(--accent);color:white;padding:0.2rem 1rem;border-radius:20px;font-size:0.8rem;">${p.badge||'Featured'}</div></div><div class="product-content"><span class="product-category">${p.category}</span><h3 class="product-name">${p.name}</h3><p class="product-description">${p.description}</p><div class="product-footer"><div class="product-price">${p.price}</div><button class="cta-button" onclick="openProductModal('${p.name}','${p.price}','${p.image}')"><i class="fas fa-shopping-cart"></i> Order</button></div></div></div>`).join('')}</div><div class="store-note"><i class="fas fa-store-alt"></i> ${storeData.note || 'View all books & programs in the full store →'} <a href="store.html" style="color:var(--accent);font-weight:600;text-decoration:none;">store.html</a></div></div>`;
            return section;
        }

        // other section creators (stubs – your original ones remain, I'll reuse names)
        function createTalkSeries() { const d=brandData.talkSeries; const s=document.createElement('section'); s.className='talk-series'; s.id='talk-series'; s.innerHTML=`<div class="section-header"><h2>${d.title||'Talk Series'}</h2></div><div class="talk-series-container">${d.image?`<div class="talk-image"><img src="${d.image}"></div>`:'<div></div>'}<div class="talk-content"><h3>${d.name||''}</h3><p>${d.description||''}</p><button class="cta-button" onclick="openRegistrationModal('${d.registrationEventType||'Talk'}')">Register</button></div></div>`; return s; }
        function createConference() { const d=brandData.conference; const s=document.createElement('section'); s.className='conference'; s.id='conference'; s.innerHTML=`<div class="section-header"><h2>${d.title||'Conference'}</h2></div><div class="conference-grid">${d.image?`<div class="conference-image"><img src="${d.image}"></div>`:'<div></div>'}<div class="conference-info"><h3>${d.name||''}</h3><p>${d.description||''}</p><button class="cta-button" onclick="openRegistrationModal('${d.registrationEventType||'Conference'}')">Register</button></div></div>`; return s; }
        function createPrograms() { const d=brandData.programs; const s=document.createElement('section'); s.className='programs'; s.id='programs'; s.innerHTML=`<div class="section-header"><h2>${d.title||'Programs'}</h2></div><div class="programs-container"><div class="program-card"><div class="program-icon"><i class="fas fa-chart-line"></i></div><h3>${d.program?.name||'Inspired.Me'}</h3><p>${d.program?.description||''}</p><button class="cta-button" onclick="openRegistrationModal('Program')">Apply</button></div></div>`; return s; }
        function createAuthor() { const d=brandData.author; const s=document.createElement('section'); s.className='author-section'; s.id='author'; s.innerHTML=`<div class="section-header"><h2>${d.title||'Author'}</h2></div><div class="article-feature"><div class="article-cover"><img src="${d.featuredArticle?.image||'https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?w=600'}"></div><div><div class="article-tag">${d.featuredArticle?.tag||'New Release'}</div><h2 class="article-title">${d.featuredArticle?.title||'The Science of Belief'}</h2><p class="article-description">${d.featuredArticle?.description||'Coming soon.'}</p><button class="cta-button" onclick="openWaitlistModal()">Join waitlist</button></div></div>`; return s; }
        function createEvents() { const d=brandData.events||{}; let items=[]; if(d.items) items=Object.values(d.items).slice(0,3); if(items.length===0) items=[{icon:'fas fa-microphone',name:'Talk Series',description:'Weekly',schedule:'Thursdays'},{icon:'fas fa-users',name:'Annual Conference',description:'June 2025'},{icon:'fas fa-chart-line',name:'Mastermind',description:'Quarterly'}]; const s=document.createElement('section'); s.className='events-section'; s.id='events'; s.innerHTML=`<div class="section-header"><h2>${d.title||'Events'}</h2></div><div class="events-grid">${items.map(e=>`<div class="event-card"><div class="event-icon"><i class="${e.icon||'fas fa-calendar'}"></i></div><h3>${e.name}</h3><p>${e.description}</p><div class="event-details"><i class="fas fa-clock"></i> ${e.schedule||'TBA'}</div><button class="cta-button" onclick="openRegistrationModal('${e.name}')">Register</button></div>`).join('')}</div>`; return s; }
        function createCommunities() { const d=brandData.communities||{}; let items=[]; if(d.items) items=Object.values(d.items).slice(0,4); if(items.length===0) items=[{logo:'https://i.postimg.cc/8cr13sL7/MUGERA-1-removebg-preview.png',name:'Exec Circle',role:'Chair'},{logo:'https://i.postimg.cc/8cr13sL7/MUGERA-1-removebg-preview.png',name:'Authors Guild',role:'Mentor'},{logo:'https://i.postimg.cc/8cr13sL7/MUGERA-1-removebg-preview.png',name:'Young Leaders',role:'Advisor'},{logo:'https://i.postimg.cc/8cr13sL7/MUGERA-1-removebg-preview.png',name:'Speaker Network',role:'Member'}]; const s=document.createElement('section'); s.className='communities-section'; s.id='communities'; s.innerHTML=`<div class="section-header"><h2>${d.title||'Communities'}</h2></div><div class="communities-grid">${items.map(c=>`<div class="community-card"><img src="${c.logo}" class="community-logo"><div class="community-name">${c.name}</div><div class="community-role">${c.role}</div></div>`).join('')}</div>`; return s; }
        function createAbout() { const d=brandData.about; const s=document.createElement('section'); s.className='about'; s.id='about'; s.innerHTML=`<div class="section-header"><h2>${d.title||'About'}</h2></div><div class="about-container"><div class="about-image"><img src="${d.image||'https://images.unsplash.com/photo-1560250097-0b93528c311a?w=600'}"></div><div><h3>${d.name||'Mugera'}</h3>${d.sections?Object.values(d.sections).map(p=>`<p>${p}</p>`).join(''):'<p>Leadership strategist, author and speaker.</p>'}</div></div>`; return s; }
        function createContact() { const d=brandData.contact; const s=document.createElement('section'); s.className='contact'; s.id='contact'; s.innerHTML=`<div class="section-header"><h2>${d.title||'Contact'}</h2></div><div class="contact-options">${d.methods?Object.values(d.methods).map(m=>`<div class="contact-option"><div class="contact-icon"><i class="${m.icon}"></i></div><h4>${m.label}</h4><p>${m.value}</p></div>`).join(''):'<div class="contact-option"><i class="fas fa-envelope"></i> info@mugera.com</div>'}</div><div style="text-align:center"><a href="${d.whatsapp?.url||'#'}" class="whatsapp-button"><i class="fab fa-whatsapp"></i> ${d.whatsapp?.text||'Connect on WhatsApp'}</a></div>`; return s; }

        function loadHeader() {
            const h = brandData.header || {};
            document.getElementById('mainHeader').innerHTML = `<div class="header-container"><a href="#home"><img src="${h.logo?.desktop||'https://i.postimg.cc/8cr13sL7/MUGERA-1-removebg-preview.png'}" class="brand-logo"></a><nav><ul class="main-nav">${['home','talk-series','conference','programs','author','events','store','about','contact'].map(id=>`<li><a href="#${id}" class="nav-link">${id.replace('-',' ')}</a></li>`).join('')}</ul></nav><button class="mobile-menu-toggle" id="mobileMenuToggle"><span></span></button></div>`;
            document.getElementById('mobileMenu').innerHTML = `<ul class="mobile-nav">${['home','talk-series','conference','programs','author','events','store','about','contact'].map(id=>`<li class="mobile-nav-item"><a href="#${id}" class="mobile-nav-link"><i class="fas fa-arrow-right"></i>${id.replace('-',' ')}</a></li>`).join('')}</ul>`;
        }
        function loadFooter() {
            const f = brandData.footer || {};
            document.getElementById('mainFooter').innerHTML = `<div class="footer-container"><div class="footer-column"><img src="${f.signatureUrl||''}" class="footer-logo" style="height:40px"><p>${f.description||'Leading with purpose.'}</p><div class="social-links">${f.socialLinks?Object.values(f.socialLinks).map(l=>`<a href="${l.url}" class="social-link"><i class="${l.icon}"></i></a>`).join(''):''}</div></div>${f.quickLinks?`<div class="footer-column"><h3>Quick links</h3>${Object.values(f.quickLinks).map(l=>`<a href="${l.url}">${l.title}</a>`).join('')}</div>`:''}<div class="footer-column"><h3>Contact</h3><p>${f.contactInfo?.email||''}</p></div></div><div class="copyright">${f.copyright||'© 2025 I AM MUGERA'}</div>`;
        }

        // modal stubs & helpers (preserve your original functions)
        window.openRegistrationModal = (type)=>{ alert('Registration for '+type); };
        window.closeRegistrationModal = ()=>{};
        window.openProductModal = (name,price,img)=>{ alert('Order '+name); };
        window.closeProductModal = ()=>{};
        window.openWaitlistModal = ()=>{ alert('Join waitlist'); };
        window.closeWaitlistModal = ()=>{};

        // slideshow controls
        let slideIndex = 0;
        window.prevSlide = function() { const slides=document.querySelectorAll('.slide'); if(slides.length){ slides[slideIndex].classList.remove('active'); slideIndex=(slideIndex-1+slides.length)%slides.length; slides[slideIndex].classList.add('active'); updateDots(); } };
        window.nextSlide = function() { const slides=document.querySelectorAll('.slide'); if(slides.length){ slides[slideIndex].classList.remove('active'); slideIndex=(slideIndex+1)%slides.length; slides[slideIndex].classList.add('active'); updateDots(); } };
        window.goToSlide = function(n) { const slides=document.querySelectorAll('.slide'); if(slides[n]){ slides[slideIndex].classList.remove('active'); slideIndex=n; slides[slideIndex].classList.add('active'); updateDots(); } };
        function updateDots() { document.querySelectorAll('.slide-dot').forEach((d,i)=>{ d.classList.toggle('active',i===slideIndex); }); }

        function initMobileMenu() {
            const toggle = document.getElementById('mobileMenuToggle');
            if(toggle) toggle.addEventListener('click', ()=>{
                document.getElementById('mobileMenu').classList.toggle('active');
                document.getElementById('mobileMenuOverlay').classList.toggle('active');
            });
            document.getElementById('mobileMenuOverlay')?.addEventListener('click', ()=>{
                document.getElementById('mobileMenu').classList.remove('active');
                document.getElementById('mobileMenuOverlay').classList.remove('active');
            });
        }
        function initHeaderScroll() {
            window.addEventListener('scroll', ()=>{
                let current=''; const sections=document.querySelectorAll('section');
                sections.forEach(s=>{ if(window.scrollY>=s.offsetTop-100) current=s.getAttribute('id'); });
                document.querySelectorAll('.nav-link').forEach(l=>{ l.classList.toggle('active',l.getAttribute('href')===`#${current}`); });
            });
        }
        function initSmoothScrolling() {
            document.querySelectorAll('a[href^="#"]').forEach(a=>{
                a.addEventListener('click',e=>{ e.preventDefault(); const t=document.querySelector(a.getAttribute('href')); if(t) window.scrollTo({top:t.offsetTop-80,behavior:'smooth'}); });
            });
        }
    </script>
</body>
</html>
